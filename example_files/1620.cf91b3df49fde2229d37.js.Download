"use strict";(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[1620],{405942:(e,t,i)=>{i.d(t,{numOfDecimalPlaces:()=>_});var n=i(960521),r=i.n(n);function _(e){return(new(r())(e).toFixed().split(".")[1]||"").length}},274210:(e,t,i)=>{i.d(t,{QUOTE_FIELDS:()=>r,QUOTE_FIELDS_CACHE:()=>_});var n=i(650151)
;const r=new Set(["pro_name","base_name","logo","logoid","currency-logoid","base-currency-logoid","source-logoid","short_name","web_site_url","pro_perm","timezone","current_session","last_price","lp_time","subsessions","prev_close_price","open_price","high_price","low_price","price_52_week_high","price_52_week_low","ask","ask_size","bid","bid_size","rch","rchp","rtc","rtc_time","data_frequency","reference-last-period-start","business_description","web_site_url","figi","number_of_employees","float_shares_outstanding","earnings_release_next_calendar_date","root","description","exchange","listed_exchange","type","country_code","provider_id","sector","typespecs","visible-plots-set","industry","currency_id","last_price","fractional","minmov","minmove2","pricescale","variable_tick_size","change","change_percent","volume","average_volume","market_cap_basic","market_cap_calc","total_revenue","earnings_per_share_basic_ttm","price_earnings_ttm","beta_1_year","dps_common_stock_prim_issue_fy","dividends_yield","earnings_release_next_date","earnings_per_share_forecast_next_fq","earnings_publication_type_next_fq","earnings_release_date","earnings_per_share_fq","earnings_per_share_forecast_fq","forecast_raw","last_release_date","next_release_date","reference_last_period","fundamental_currency_code","number_of_employees","web_site_url","business_description","founded","ceo","float_shares_outstanding","total_shares_outstanding","dividend_payout_ratio_ttm","dividends_yield_current","dividend_ex_date_upcoming","dividend_amount_upcoming","dividend_amount_recent","dividend_ex_date_recent","dividend_amount_h","dividend_payment_date_upcoming","dividend_payment_date_recent","total_revenue_fq_h","total_revenue_fy_h","net_income_fy_h","net_income_fq_h","total_assets_fy_h","total_assets_fq_h","total_liabilities_fy_h","total_liabilities_fq_h","cash_f_operating_activities_fy_h","cash_f_operating_activities_fq_h","cash_f_investing_activities_fy_h","cash_f_investing_activities_fq_h","cash_f_financing_activities_fy_h","cash_f_financing_activities_fq_h","fiscal_period_fy_h","fiscal_period_fq_h","fiscal_period_fh_h","earnings_release_date_fq_h","earnings_release_next_date_fq","earnings_per_share_forecast_next_fq","earnings_per_share_forecast_fq_h","earnings_per_share_fq_h","earnings_fiscal_period_fq_h","next_earnings_fiscal_period_fq","is_next_earnings_release_date_estimated","symbol-primaryname","currency_code","rates_mc","rates_fy","rates_ttm","measure","value_unit_id","value-unit-id","update_mode","language","local_description","short_description","source","source2","format","recommendation_mark","last_report_frequency","price_target_estimates_num","price_target_average","update_mode_seconds","recommendation_total","recommendation_buy","recommendation_over","recommendation_hold","recommendation_under","recommendation_sell","recommendation_total","price_target_high","price_target_low","rates_pt","rates_pt","total_revenue_fy_h","total_revenue_fq_h","total_revenue_fh_h","net_income_fy_h","net_income_fq_h","net_income_fh_h","total_assets_fy_h","total_assets_fq_h","total_assets_fh_h","total_liabilities_fy_h","total_liabilities_fq_h","total_liabilities_fh_h","cash_f_operating_activities_fy_h","cash_f_operating_activities_fq_h","cash_f_operating_activities_fh_h","cash_f_investing_activities_fy_h","cash_f_investing_activities_fq_h","cash_f_investing_activities_fh_h","cash_f_financing_activities_fy_h","cash_f_financing_activities_fq_h","cash_f_financing_activities_fh_h","fiscal_period_fy","fiscal_period_fq","fiscal_period_fh","earnings_release_date_fq_h","earnings_release_date_fy_h","earnings_release_date_fh_h","earnings_release_next_date_fq","earnings_release_next_date_fy","earnings_release_next_date_fh","earnings_release_next_time","earnings_release_time","is_next_earnings_release_date_estimated","earnings_per_share_forecast_next_fq","earnings_per_share_forecast_next_fy","earnings_per_share_forecast_next_fh","earnings_per_share_forecast_fq_h","earnings_per_share_forecast_fy_h","earnings_per_share_forecast_fh_h","earnings_per_share_fq_h","earnings_per_share_fy_h","earnings_per_share_fh_h","earnings_fiscal_period_fq_h","earnings_fiscal_period_fy_h","earnings_fiscal_period_fh_h","next_earnings_fiscal_period_fq","next_earnings_fiscal_period_fy","next_earnings_fiscal_period_fh","revenue_fq_h","revenue_fy_h","revenue_fh_h","revenue_forecast_fq_h","revenue_forecast_fy_h","revenue_forecast_fh_h","revenue_forecast_next_fq","revenue_forecast_next_fy","revenue_forecast_next_fh","revenue_seg_by_business_h","revenue_seg_by_region_h","total_revenue_fy","total_revenue_fq","total_revenue_fh","gross_profit_fy","gross_profit_fq","gross_profit_fh","ebitda_fy","ebit_fy","net_income_fy","net_income_fq","net_income_fh","total_debt_fy_h","total_debt_fq_h","total_debt_fh_h","free_cash_flow_fy_h","free_cash_flow_fq_h","free_cash_flow_fh_h","cash_n_equivalents_fy_h","cash_n_equivalents_fq_h","cash_n_equivalents_fh_h","total_current_assets_fy","total_current_assets_fq","total_current_assets_fh","total_current_liabilities_fy","total_current_liabilities_fq","total_current_liabilities_fh","total_non_current_assets_fy","total_non_current_assets_fq","total_non_current_assets_fh","total_non_current_liabilities_fy","total_non_current_liabilities_fq","total_non_current_liabilities_fh","loans_net_fy","loans_net_fy_h","loans_net_fq_h","loans_net_fh_h","total_deposits_fy","total_deposits_fy_h","total_deposits_fq_h","total_deposits_fh_h","loan_loss_allowances_fy","loan_loss_allowances_fy_h","loan_loss_allowances_fq_h","loan_loss_allowances_fh_h","reserve_to_total_capital_fy_h","reserve_to_total_capital_fq_h","reserve_to_total_capital_fh_h","unearned_premium_to_total_capital_fy_h","unearned_premium_to_total_capital_fq_h","unearned_premium_to_total_capital_fh_h","insurance_reserves_fy_h","insurance_reserves_fq_h","insurance_reserves_fh_h","policy_claims_fy_h","policy_claims_fq_h","policy_claims_fh_h","premiums_earned_fy_h","premiums_earned_fq_h","premiums_earned_fh_h","price_earnings_fq_h","price_earnings_fy_h","price_earnings_fh_h","price_sales_fq_h","price_sales_fy_h","price_sales_fh_h","diluted_net_income_ttm","total_revenue_ttm","price_earnings_current","price_sales_current","isin-displayed","cusip","interest_income_fy_h","interest_income_fq_h","interest_income_fh_h","non_interest_income_fy_h","non_interest_income_fq_h","non_interest_income_fh_h","website","doc","explorer","sources","contracts","crypto_common_categories","crypto_asset","community","dividends_availability","earnings_availability","financials_availability","documents","etf_asset_type_exposure","etf_region_exposure","top_holdings","unit-id","options-info","interest_income_fy","interest_income_fq","interest_income_fh","non_interest_income_fy","non_interest_income_fq","non_interest_income_fh","interest_expense_fy","interest_expense_fq","interest_expense_fh","loan_loss_provision_fy","loan_loss_provision_fq","loan_loss_provision_fh","non_interest_expense_fy","non_interest_expense_fq","non_interest_expense_fh","non_oper_income_fy","non_oper_income_fq","non_oper_income_fh","unusual_expense_inc_fy","unusual_expense_inc_fq","unusual_expense_inc_fh","pretax_income_fy","pretax_income_fq","pretax_income_fh","income_tax_fy","income_tax_fq","income_tax_fh","after_tax_other_income_fy","after_tax_other_income_fq","after_tax_other_income_fh","total_non_oper_income_fy","total_non_oper_income_fq","total_non_oper_income_fh","oper_income_fy","oper_income_fq","oper_income_fh","operating_expenses_fy","operating_expenses_fq","operating_expenses_fh","cost_of_goods_fy","cost_of_goods_fq","cost_of_goods_fh","equity_in_earnings_fy","equity_in_earnings_fq","equity_in_earnings_fh","minority_interest_exp_fy","minority_interest_exp_fq","minority_interest_exp_fh","discontinued_operations_fy","discontinued_operations_fq","discontinued_operations_fh","front_contract","pointvalue","unit_id","expiration","aum","asset_class","focus","expense_ratio","launch_date","issuer","brand","homepage","index_tracked","actively_managed","fund_view_mode","common_equity_tier1_ratio_fy_h","common_equity_tier1_ratio_fq_h","common_equity_tier1_ratio_fh_h","tier1_capital_ratio_fy_h","tier1_capital_ratio_fq_h","tier1_capital_ratio_fh_h","total_capital_ratio_fy_h","total_capital_ratio_fq_h","total_capital_ratio_fh_h","preferred_stock_carrying_value_fh","preferred_stock_carrying_value_fq","total_debt_fq","minority_interest_fh","minority_interest_fq","cash_n_short_term_invest_fq","cash_n_due_f_banks_fh","cash_n_due_f_banks_fq","enterprise_value_current","etf_holdings_count","contract-description","reference-last-period","all_time_high","all_time_high_day","all_time_low","all_time_low_day","outstanding_amount","nominal_value","denom_min","current_coupon","coupon_type_general","coupon_frequency","yield_to_maturity","maturity-date","days_to_maturity","bond_issuer","issue_date","bond_issuer_stock_symbol","total_issued_amount","paid_amount","bond_snp_rating_lt_h","placement_type","duration_type","maturity_type","offer_type","redemption_type","conversion_option","sinking_fund","ownership_form","daily-summary-ast","issue_status","coupon_h","sinking_fund_next_date","sinking_fund_min_amount_next","call_next_date","redemptions_h","call_notice_days","put_next_date","put_notice_days_min","seniority_level","inflation_protection","pledge_status","bond_issuer_country_of_risk","bond_issuer_cr_parent","credit_enhancement_type","credit_enhancement_status","use_of_proceeds","bond_issuer_snp_rating_lt_h","bond_issuer_snp_rating_st_h","bond_agents_tr","first_bar_time_1d","financial-indicator-id","exchange-info","underlying-symbol","strike","lotsize","option-style","has_bonds","open_time","has_bonds","dex_buys_15m","dex_sells_15m","dex_buy_volume_15m","dex_sell_volume_15m","dex_buyers_15m","dex_sellers_15m","dex_buys_1h","dex_sells_1h","dex_buy_volume_1h","dex_sell_volume_1h","dex_buyers_1h","dex_sellers_1h","dex_buys_4h","dex_sells_4h","dex_buy_volume_4h","dex_sell_volume_4h","dex_buyers_4h","dex_sellers_4h","dex_buys_12h","dex_sells_12h","dex_buy_volume_12h","dex_sell_volume_12h","dex_buyers_12h","dex_sellers_12h","dex_buys_24h","dex_sells_24h","dex_buy_volume_24h","dex_sell_volume_24h","dex_buyers_24h","dex_sellers_24h","dex_converted_symbol","dex_trading_volume_24h","dex_created_time","dex_currency","dex_currency_logoid","blockchain_addresses_urls","blockchain_addresses","base_currency","ipo_offer_status","has_ipo_details_visible","ipo_price_range_usd_max","ipo_price_range_usd_min","ipo_offer_price_usd","ipo_offered_shares","ipo_deal_amount_usd","ipo_announcement_date","ipo_offer_date","available_data_range_begin_date","available_data_range_end_date","has_etf_ownership","symbol_primary_listing","metric_ytm"]),_=new class{
constructor(e){this._cache=new Map,this._times=new Map,this._fields=[...e.fields]}update(e,t,i){const r=(0,n.ensureDefined)(e.symbolname),_=Date.now();if(this._cache.has(r)||this._cache.set(r,{symbolname:r,status:e.status,values:{}}),this._times.has(r)||this._times.set(r,new Map),"error"===e.status)return;const o=(0,n.ensureDefined)(this._cache.get(r)),s=(0,n.ensureDefined)(this._times.get(r));o.status=e.status;for(const n of this._fields)t.has(n)&&(i||void 0!==e.values[n])&&(o.values[n]=e.values[n],s.set(n,_))}get(e){return this._cache.get(e)??null}getTimes(e){return this._times.get(e)??null}fields(){return this._fields}}({fields:r})},332906:(e,t,i)=>{i.d(t,{QuoteSession:()=>r});var n=i(900608);class r{constructor(e,t=(0,n.randomHash)()){this._sessionstarted=!1,this._globalHandler=null,this._chartApi=e,this._sessionid="qs_"+t}destroy(){this._sessionstarted&&(this._chartApi.quoteDeleteSession(this._sessionid),this._sessionstarted=!1)}connected(){return this._chartApi.connected()}connect(e){this._globalHandler=e,this._chartApi.createSession(this._sessionid,this),this._chartApi.connect()}disconnect(){this._chartApi.disconnect()}quoteAddSymbols(e){this._chartApi.quoteAddSymbols(this._sessionid,e)}quoteRemoveSymbols(e){this._chartApi.quoteRemoveSymbols(this._sessionid,e)}quoteFastSymbols(e){this._chartApi.quoteFastSymbols(this._sessionid,e)}quoteSetFields(e){this._chartApi.quoteSetFields(this._sessionid,e)}onMessage(e){switch(e.method){case"connected":this._sessionstarted||(this._chartApi.quoteCreateSession(this._sessionid),this._sessionstarted=!0);break;case"disconnected":this._sessionstarted=!1}this._globalHandler?.(e)}quoteHibernateAll(){this._chartApi.quoteHibernateAll(this._sessionid)}}},761637:(e,t,i)=>{function n(e){if(void 0===e)return null;const t=e.match(/(delayed_streaming)_(\d+)/);return null===t?null:{mode:t[1],interval:parseInt(t[2])}}function r(e){const t=n(e.update_mode);return null===t||(e.update_mode=t.mode,e.update_mode_seconds=t.interval),e}i.d(t,{normalizeUpdateMode:()=>r,parseUpdateMode:()=>n})},400353:(e,t,i)=>{i.d(t,{canUpgradePlan:()=>d,enabled:()=>l,getConfig:()=>u,getProductFeaturesConfig:()=>c,getProductId:()=>a});var n=i(650151)
;const r=JSON.parse('{"free":{"CHAT_ASSISTANT":{"limit":5,"disable_on_trial":true},"CHART_STORAGE":{"limit":1},"MULTIPLE_CHARTS":{"limit":1},"INDICATORS_ON_CHART":{"limit":2},"FUNDAMENTALS_ON_CHART":{"limit":1},"HISTORICAL_BARS":{"limit":5},"STUDY_ON_STUDY":{"limit":800,"child_limit":1},"SERVER_SIDE_ALERTS":{"overall_limit":2000,"limit":3,"complex_limit":0,"primitive_limit":3},"SCREENER_INTERVALS":{"interval":["1D","1W","1M"]},"STUDY_TEMPLATES":{"limit":1},"SIMULTANEOUS_CONNECTIONS":{"limit":1},"BACKEND_CONNECTIONS":{"limit":2},"IDEA_SOCIAL_LINKS":{"socials":["Twitter","Youtube"]},"MULTICOLOR_FLAGGED_SYMBOLS":{"limit":1},"WATCHLIST_SYMBOLS":{"limit":30},"VIDEO_IDEAS_LENGTH":{"limit":20},"CREATE_MORE_PORTFOLIOS":{"limit":1},"PORTFOLIO_TRANSACTIONS":{"limit":2000},"PORTFOLIO_HOLDINGS":{"limit":20}},"pro":{"BACKTESTING_CHART_EXPAND":{},"CHAT_ASSISTANT":{"limit":5,"disable_on_trial":true},"PERSONAL_SUPPORT":{"disable_on_trial":true},"CHART_STORAGE":{"limit":5},"MULTIPLE_CHARTS":{"limit":2},"MARKET_DATA_LIMITS":{"limit":2,"primitive_limit":2},"CUSTOM_INTERVALS":{},"MULTIPLE_WATCHLISTS":{},"IMPORT_WATCHLISTS":{},"EXPORT_WATCHLISTS":{},"INDICATORS_ON_CHART":{"limit":5},"FUNDAMENTALS_ON_CHART":{"limit":4},"TV_PROSTUDIES":{"study_packages":["tv-chartpatterns"]},"HISTORICAL_BARS":{"limit":10},"TV_VOLUMEBYPRICE":{"study_packages":["tv-volumebyprice"]},"STUDY_ON_STUDY":{"limit":800,"child_limit":1},"TICK_BY_TICK_PUSH_DATA":{},"SERVER_SIDE_ALERTS":{"overall_limit":2000,"limit":20,"complex_limit":20,"primitive_limit":20},"SCREENER_AUTO_REFRESH":{},"SCREENER_NEW_AUTO_REFRESH":{},"SCREENER_EXPORT_DATA":{},"SCREENER_NEW_EXPORT_CSV_DATA":{},"SCREENER_NEW_SHOW_RESTRICTED_DATA":{},"SHOW_BONDS_RESTRICTED_DATA":{},"PORTFOLIO_DATA_LIMIT":{},"CREATE_MORE_PORTFOLIOS":{"limit":3},"PORTFOLIO_TRANSACTIONS":{"limit":5000},"PORTFOLIO_HOLDINGS":{"limit":50},"SCREENER_INTERVALS":{"interval":["1m","5m","15m","30m","1h","2h","4h","1D","1W","1M"]},"NO_SPONSORED_ADS":{"disable_on_lite_plan":"exclude_mobile"},"STUDY_TEMPLATES":{"limit":99999},"SIMULTANEOUS_CONNECTIONS":{"limit":1},"BACKEND_CONNECTIONS":{"limit":10},"IDC_AVAILABLE_DELAY":{},"STATUS":{"disable_on_trial":true},"BAR_REPLAY_INTRADAY":{"limit":1},"MULTIFLAGGED_SYMBOLS_LISTS":{},"SHOWS":{"disable_on_trial":true},"ALERTS_WEBHOOK":{},"DEEP_FUNDAMENTALS_HISTORY":{},"PUBLISH_PROTECTED_SCRIPTS":{"disable_on_trial":true},"IDEA_SOCIAL_LINKS":{"socials":["Twitter","Youtube"]},"EXTENDED_SOCIAL_LINKS":{"socials":["Facebook","Instagram"],"disable_on_trial":true},"MULTI_MONITOR":{},"MULTICOLOR_FLAGGED_SYMBOLS":{"limit":7},"INTRADAY_EXCHANGE":{},"VOLUME_PROFILE":{},"STREAMS_ACCESS":{"followers":10},"SMS_2FA_VERIFICATION":{"disable_on_trial":true},"SOCIAL_ACTIVITY":{"disable_on_trial":true},"WATCHLIST_SYMBOLS":{"limit":1000},"FIELDS_PERMISSIONS":{"items":["refbonds"]},"CUSTOM_RANGE_BARS":{},"FASTEST_DATA_FLOW":{},"SESSION_VOLUME_PROFILE":{},"SHOW_ETF_HOLDINGS_DATA":{}},"pro_realtime":{"extends":"pro","CHART_STORAGE":{"limit":10},"MULTIPLE_CHARTS":{"limit":4},"MARKET_DATA_LIMITS":{"limit":4,"primitive_limit":4},"INDICATORS_ON_CHART":{"limit":10},"FUNDAMENTALS_ON_CHART":{"limit":7},"TV_PROSTUDIES":{"study_packages":["tv-prostudies","tv-chartpatterns"]},"STUDY_ON_STUDY":{"limit":800,"child_limit":9},"SERVER_SIDE_ALERTS":{"overall_limit":2000,"limit":100,"complex_limit":100,"primitive_limit":100},"ALERTS_MULTICONDITIONS":{"condition_limit":5},"CHAT_ASSISTANT":{"limit":5,"disable_on_trial":true},"CAN_EDIT_PUBLIC_CHATS":{"disable_on_trial":true},"BACKEND_CONNECTIONS":{"limit":20},"EXPORT_CHART_DATA":{},"CUSTOM_FORMULAS":{},"INTRADAY_EXOTIC_CHARTS":{},"KAGI_RENKO":{},"INTRADAY_SPREAD":{},"CUSTOM_CHATS":{},"BACKTESTING_EXPORT":{},"CREATE_MORE_PORTFOLIOS":{"limit":4},"PORTFOLIO_HOLDINGS":{"limit":75}},"pro_premium":{"extends":"pro_realtime","USE_BAR_MAGNIFIER":{},"CHART_STORAGE":{"limit":99999},"MULTIPLE_CHARTS":{"limit":8},"MARKET_DATA_LIMITS":{"limit":6,"primitive_limit":6},"INDICATORS_ON_CHART":{"limit":25},"FUNDAMENTALS_ON_CHART":{"limit":10},"FUNDAMENTAL_GRAPHS_LARGE_TIME_RANGE":{},"CHAT_ASSISTANT":{"limit":99999,"disable_on_trial":true},"CHART_PATTERNS":{"study_packages":["tv-chartpatterns","tv-chart_patterns"]},"HISTORICAL_BARS":{"limit":20},"STUDY_ON_STUDY":{"limit":800,"child_limit":24},"SERVER_SIDE_ALERTS":{"overall_limit":2000,"limit":400,"complex_limit":400,"primitive_limit":400,"watchlist_limit":2,"overall_watchlist_limit":5},"SIMULTANEOUS_CONNECTIONS":{"limit":2},"BACKEND_CONNECTIONS":{"limit":50},"IDEA_SIGNATURE":{"disable_on_trial":true},"PROFILE_WEBSITE_FIELD":{"disable_on_trial":true},"BAR_REPLAY_INTRADAY":{"limit":4},"BAR_REPLAY_1S":{},"ALERTS_NO_EXPIRATION":{},"PUBLISH_INVITE_ONLY_SCRIPTS":{"disable_on_trial":true},"EXPORT_CHART_DATA":{},"DEEP_HISTORY_BACKTEST":{},"ALERTS_ON_SECONDS":{},"PERMANENT_STREAM_RECORDS":{},"EXTENDED_SOCIAL_LINKS":{"socials":["Facebook","Instagram","Website"],"disable_on_trial":true},"SECONDS_INTERVALS":{},"TPO_PERIODIC":{"study_packages":["tv-volumebyprice"]},"TPO_CHART_STYLE":{},"VOLUME_CANDLES":{},"VIDEO_IDEAS_LENGTH":{"limit":60},"VOLUME_FOOTPRINT":{},"PINE_SCREENER":{},"CREATE_MORE_PORTFOLIOS":{"limit":5},"PORTFOLIO_HOLDINGS":{"limit":100},"SOCIAL_TRUSTED_USER":{"disable_on_trial":true}},"pro_expert":{"extends":"pro_premium","INDICATORS_ON_CHART":{"limit":30},"FUNDAMENTALS_ON_CHART":{"limit":15},"STUDY_ON_STUDY":{"limit":800,"child_limit":29},"MULTIPLE_CHARTS":{"limit":10},"MARKET_DATA_LIMITS":{"limit":12,"primitive_limit":12},"HISTORICAL_BARS":{"limit":25},"SERVER_SIDE_ALERTS":{"overall_limit":2000,"limit":600,"complex_limit":600,"primitive_limit":600,"watchlist_limit":10,"overall_watchlist_limit":20},"BACKEND_CONNECTIONS":{"limit":80},"BAR_REPLAY_INTRADAY":{"limit":6},"BAR_REPLAY_1S":{},"BAR_REPLAY_1T":{},"EXPORT_FINANCIALS_DATA":{},"TICK_INTERVALS":{},"FIRST_PRIORITY_SUPPORT":{},"BUY_PRO_DATA":{},"CREATE_MORE_PORTFOLIOS":{"limit":6},"PORTFOLIO_HOLDINGS":{"limit":125}},"pro_premium_expert":{"extends":"pro_expert","INDICATORS_ON_CHART":{"limit":50},"FUNDAMENTALS_ON_CHART":{"limit":25},"STUDY_ON_STUDY":{"limit":800,"child_limit":49},"MULTIPLE_CHARTS":{"limit":16},"MARKET_DATA_LIMITS":{"limit":99999,"primitive_limit":25},"HISTORICAL_BARS":{"limit":40},"SERVER_SIDE_ALERTS":{"overall_limit":4000,"limit":1000,"complex_limit":1000,"primitive_limit":1000,"watchlist_limit":15,"overall_watchlist_limit":30},"BACKEND_CONNECTIONS":{"limit":200},"BAR_REPLAY_INTRADAY":{"limit":10},"CREATE_MORE_PORTFOLIOS":{"limit":7},"PORTFOLIO_HOLDINGS":{"limit":150}}}'),_=JSON.parse('{"cme":{"INDICATORS_ON_CHART":{"limit":99999}},"bovespa":{"INDICATORS_ON_CHART":{"limit":99999}},"qecomqa":{"INDICATORS_ON_CHART":{"limit":99999}}}')
;var o=i(638456),s=i(381467);function a(e){let t=window.user;"undefined"!=typeof window&&window.user&&(t=window.user),e&&(t=e);let i=t?.pro_plan||"free";return"free"!==i&&!(0,s.isTrialProduct)(i)||(i=(0,s.getProductForTrial)(i)),i}function l(e,t,i){let n=window.user;i&&(n=i);const r=u(e,t,n);if(!r)return!1;if(r.disable_on_trial&&(!n||n.is_trial))return!1;const _=r.disable_on_lite_plan;if(_&&n.is_lite_plan){if("all"===_)return!1;if("exclude_mobile"===_&&!o.CheckMobile.any())return!1}return!0}function c(e){const t=r[e];return t?t.extends?Object.assign({},c(t.extends),t):t:null}function u(e,t,i){let n=c(t||(a(i)??""));if(!n)return null;const r=window.TradingView?.widgetCustomer;return r&&_[r]&&(n=Object.assign({},n,_[r])),n&&n[e]||null}function d(){const e=u("BACKEND_CONNECTIONS")?.limit??0,t=(0,n.ensureDefined)(window.pro),i=t.getProductsByType(t.PRODUCT_TYPES.pro_plan);for(const t of i)if((u("BACKEND_CONNECTIONS",(0,n.ensureDefined)(t.id))?.limit??0)>e)return!0;return!1}},849204:(e,t,i)=>{i.d(t,{LogoSize:()=>n,getLogoUrlResolver:()=>a});var n,r=i(650151),_=i(588948);!function(e){e[e.Medium=0]="Medium",e[e.Large=1]="Large"}(n||(n={}));class o{constructor(e){(0,r.assert)(""!==e,"S3 base url must be a non-empty string"),this._baseUrl=e}getSymbolLogoUrl(e,t){switch((0,r.assert)(""!==e,"logo id must be a non-empty string"),t){case n.Medium:return this._baseUrl+`${e}.svg`;case n.Large:return this._baseUrl+`${e}--big.svg`}}collectSymbolLogoUrls(e,t){const{logoId:i,baseCurrencyLogoId:n,currencyLogoId:r,dexCurrencyLogoId:_}=e;if(i)return[this.getSymbolLogoUrl(i,t)];const o=[];if(n&&o.push(this.getSymbolLogoUrl(n,t)),_?o.push(this.getSymbolLogoUrl(_,t)):r&&o.push(this.getSymbolLogoUrl(r,t)),o.length<2)return o;const s=o.some(l),a=o.every((e=>!e.includes("country")||l(e)));return s&&a?o.filter((e=>!l(e))):o;function l(e){return e.includes("country/US")}}getCountryFlagUrl(e,t){return this.getSymbolLogoUrl("country/"+e,t)}getCryptoLogoUrl(e,t){return this.getSymbolLogoUrl("crypto/"+e,t)}getProviderLogoUrl(e,t){return this.getSymbolLogoUrl("provider/"+e,t)}getSourceLogoUrl(e,t){return this.getSymbolLogoUrl("source/"+e,t)}getBlockchainContractLogoUrl(e,t){return this.getSymbolLogoUrl("blockchain/"+e,t)}}let s;function a(){return function(){if(!s){const e=(0,_.getInitData)(),t=e.settings?e.settings.S3_LOGO_SERVICE_BASE_URL:"";s=new o(t)}return s}()}},175203:(e,t,i)=>{i.d(t,{telemetry:()=>c});var n=i(251924),r=i(954912),_=i(638456),o=i(314802);i(659863);const s=(0,i(735566).getLogger)("Common.Telemetry"),a={default:15e3,site:3e5},l=["before_websocket_connection_time_frame","websocket_connection_time_frame","first_series_full_time_frame","page_full_load_time_frame","page_load_time_frame"];const c=new class{constructor(){this.reportSent=new n.Delegate,this.timeCounters={series:{marks:[]},study:{},pine:{}},this._timeoutIds={},this._commonAdditionalData={cluster:null,userId:"0"},this._reportStash={}}setSessionInfo(e){const t=this._parseCluster(e);null!==t&&(this._commonAdditionalData.cluster=t)}sendReport(e,t,i){
if(!this._isAbleToSendReport(t))return;const n=this._getSubserviceType(e),r=this._getHost(e,n);if(null!==r){if(i=void 0===i?{count:1}:i,this._addReportToStash(i,t,r),!this._timeoutIds[e]){const t=a[e]??a.default;this._timeoutIds[e]=setTimeout(this._sendTelemetryToService.bind(this,e,r),t)}}else s.logError(`Unable to get host for counter: ${t}, metric type: ${e}, serivce type: ${n}`)}sendChartReport(e,t,i=!0){this._sendServiceSpecifiedReport("charts",e,t,i)}sendLineToolsStorageReport(e,t,i=!0){this._sendServiceSpecifiedReport("line_tools_storage",e,t,i)}_sendServiceSpecifiedReport(e,t,i,n=!0){this._updateUserInfo(),i=void 0===i?{count:1}:i,n&&(i=this._appendCommonAdditionalInfo(i,["cluster","userId"])),this.sendReport(e,t,i)}_updateUserInfo(){const e="user"in window&&"id"in window.user?window.user.id:"0";this._commonAdditionalData.userId=String(e)}_isAbleToSendReport(e){const t=window.TELEMETRY_HOSTS,i=l.includes(e),n=Boolean(window.TradingView?.onChartPage||(0,_.onWidget)());return t&&(!i||n)}_sendTelemetryToService(e,t){if(this._reportStash.hasOwnProperty(t)){const e=this._cropParams(this._reportStash[t]),i=this._renameAllParams(e),n={event:"report_stash",params:this._cleanAllParams(i)};s.logDebug(`Report to host: ${t}; stash: ${JSON.stringify(this._reportStash[t])}`),this.reportSent.fire(this._reportStash[t]),delete this._reportStash[t],(0,r.fetch)(`${t}/report`,{method:"POST",body:JSON.stringify(n)})}this._timeoutIds[e]=null}_getHost(e,t){const i=window.TELEMETRY_HOSTS,n=i[e]&&i[e][t];return Boolean(n)?n:null}_getSubserviceType(e){if(!["charts","site"].includes(e))return"all";let t="free";const i=window.user.is_pro;return"charts"===e&&(0,o.isOnMobileAppPage)("old")?t=i?"ios_pro":"ios_free":"charts"===e&&(0,o.isOnMobileAppPage)("new")?t=i?"android_pro":"android_free":(0,_.onWidget)()?t="widget":i&&(t="pro"),t}_parseCluster(e){let t;try{t=JSON.parse(e).session_id}catch(e){return s.logError("Could not parse cluster id (session id)"),null}const i=/(.*@)(.*)/gi.exec(t);return null!==i&&i.length>=3?i[2]:null}_appendCommonAdditionalInfo(e,t){return t.forEach((t=>{t in this._commonAdditionalData&&(e.additional=e.additional||{},e.additional[t]=this._commonAdditionalData[t])})),e}_cropParams(e){for(const t in e)e.hasOwnProperty(t)&&e[t].length>1e3&&(e.too_much_metrics_frame=e.too_much_metrics_frame??[],e.too_much_metrics_frame.push({value:e[t].length,additional:{event:t}}),delete e[t]);return e}_renameAllParams(e){const t={};for(const i in e)e.hasOwnProperty(i)&&(t[i]=[],e[i].forEach((e=>{t[i].push(this._renameEntryParams(e))})));return t}_renameEntryParams(e){const t={count:"c",value:"v",text:"t",additional:"a"};return Object.keys(e).reduce(((i,n)=>(i[t[n]]=e[n],i)),{})}_cleanAllParams(e){const t={};for(const i in e)if(e.hasOwnProperty(i)){t[i]=[];const n={c:0};e[i].forEach((e=>{const r=this._cleanEntryParams(e),_=Object.keys(r).length;1===_&&void 0!==r.c?n.c+=r.c:_>0&&t[i].push(r)})),n.c>0&&t[i].push(n),0===t[i].length&&delete t[i]}return t}_cleanEntryParams(e){
const t=Object.keys(e).reduce(((t,i)=>"c"!==i&&"t"!==i||e[i]?(t[i]=e[i],t):t),{});return"c"in t||"v"in t||"t"in t?t:{}}_addReportToStash(e,t,i){i in this._reportStash||(this._reportStash[i]={}),t in this._reportStash[i]||(this._reportStash[i][t]=[]),Object.keys(e).length>0&&this._reportStash[i][t].push(e)}}},779923:(e,t,i)=>{async function n(e,t){const n=await Promise.all([i.e(61560),i.e(26184),i.e(10648),i.e(6739),i.e(91565),i.e(7204),i.e(61504),i.e(84592),i.e(77196),i.e(22691),i.e(58572),i.e(72834),i.e(27877),i.e(65428),i.e(61774),i.e(34700),i.e(28903),i.e(96421),i.e(30184),i.e(90706),i.e(57120),i.e(46229),i.e(52174),i.e(92021),i.e(32227),i.e(87473),i.e(62526),i.e(45553),i.e(55454),i.e(38890)]).then(i.bind(i,190916));return n.showSimpleDialog(e,n.renameModule,t)}async function r(e,t){const n=await Promise.all([i.e(61560),i.e(26184),i.e(10648),i.e(6739),i.e(91565),i.e(7204),i.e(61504),i.e(84592),i.e(77196),i.e(22691),i.e(58572),i.e(72834),i.e(27877),i.e(65428),i.e(61774),i.e(34700),i.e(28903),i.e(96421),i.e(30184),i.e(90706),i.e(57120),i.e(46229),i.e(52174),i.e(92021),i.e(32227),i.e(87473),i.e(62526),i.e(45553),i.e(55454),i.e(38890)]).then(i.bind(i,190916));return n.showSimpleDialog(e,n.confirmModule,t)}async function _(e,t){const n=await Promise.all([i.e(61560),i.e(26184),i.e(10648),i.e(6739),i.e(91565),i.e(7204),i.e(61504),i.e(84592),i.e(77196),i.e(22691),i.e(58572),i.e(72834),i.e(27877),i.e(65428),i.e(61774),i.e(34700),i.e(28903),i.e(96421),i.e(30184),i.e(90706),i.e(57120),i.e(46229),i.e(52174),i.e(92021),i.e(32227),i.e(87473),i.e(62526),i.e(45553),i.e(55454),i.e(38890)]).then(i.bind(i,190916));return n.showSimpleDialog(e,n.warningModule,t)}i.r(t),i.d(t,{showConfirm:()=>r,showRename:()=>n,showWarning:()=>_})},28511:(e,t,i)=>{i.d(t,{AuthToken:()=>s});var n=i(735566),r=i(251924),_=i(954912);const o=(0,n.getLogger)("ChartApi.AuthToken",{color:"#173"});class s{constructor(){this.invalidated=new r.Delegate,this._tid=0,this._onGoingAuthTokenRequest=null,this._onOnline=()=>{o.logInfo("Online, new token will be fetched if needed"),this.get()},this._onVisibilityChange=()=>{"visible"===document.visibilityState&&(o.logInfo("Page visible, new token should be fetched"),this.get())},window.loginStateChange||(window.loginStateChange=new r.Delegate),window.loginStateChange.subscribe(this,(e=>{e||(this._set(window.user.auth_token),this.invalidated.fire())})),this._set(window.user.auth_token),window.addEventListener("online",this._onOnline),document.addEventListener("visibilitychange",this._onVisibilityChange)}destroy(){window.removeEventListener("online",this._onOnline),document.removeEventListener("visibilitychange",this._onVisibilityChange)}get(e){return window.is_authenticated?!e&&performance.now()<this._cache.monoValidThru&&Date.now()<this._cache.wallValidThru?(o.logInfo(`Using cached token ${this._cache.token}`),Promise.resolve(this._cache.token)):window.navigator.onLine?this._onGoingAuthTokenRequest?this._onGoingAuthTokenRequest:this._onGoingAuthTokenRequest=this._fetch(Boolean(e),0).then((e=>{
if(!window.is_authenticated)throw new Error("User logged out while the request was in flight");return this._set(e),e})).catch((e=>(o.logError(`Error fetching new token: ${e&&e.message}`),""))).finally((()=>{this._onGoingAuthTokenRequest=null})):(o.logWarn("Offline, cannot fetch new token, using cached token"),Promise.resolve(this._cache.token)):Promise.resolve("")}reset(){this._set(void 0),this.invalidated.fire()}_set(e){if(window.is_authenticated&&void 0!==e){const t=function(e){if(""===e)return 144e5;try{const t=JSON.parse(atob(e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"))),i=1e3*(t.exp-t.iat);if(!isFinite(i))throw new Error("invalid expiration");return Math.max(i-3e5,3e5)}catch(t){return o.logError(`${e} is invalid: ${t.message}`),144e5}}(e);this._cache={token:e,monoValidThru:performance.now()+t,wallValidThru:Date.now()+t},clearTimeout(this._tid),this._tid=setTimeout((()=>{window.navigator.onLine&&this.reset()}),t),o.logInfo(`Cached for ${t} ms: ${e}`)}else this._cache={token:"",monoValidThru:-1/0,wallValidThru:-1/0},clearTimeout(this._tid),o.logInfo("Cache dropped")}_fetch(e,t){return o.logNormal(`Fetching a new token, grabSession=${e}`),(0,_.fetch)("/quote_token/",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:e?"grabSession=true":""}).then((e=>{if(!e.ok)throw new Error(`Response status is not ok: ${e.status}`);return e.json().then(String)}),(i=>{if(t>=3)throw i;return o.logWarn("Request failed, will retry"),function(e){return new Promise((t=>setTimeout(t,1e3*e)))}(t).then((()=>this._fetch(e,t+1)))}))}}},601316:(e,t,i)=>{i.d(t,{getMinTick:()=>l,getMinTickData:()=>a,makePriceIndexToPriceConverter:()=>h,makePriceToPriceIndexConverter:()=>d,makeVariableMinTickData:()=>u});var n=i(960521),r=i(150335),_=i(405942),o=i(462140);function s(e){return e?(0,n.Big)(e.minMove).div(e.priceScale).toNumber():NaN}function a(e){const{minTick:t,price:i,variableMinTickData:n,shouldCheckForEquality:_}=e,o=(0,r.isNumber)(t)?c(t):t;return void 0===n?o:function(e,t,i=!1){for(let n=0;n<t.length;n++){if(e<t[n].price)return t[n].minTick;if(i&&e===t[n].price)return t[n].minTick}return t[t.length-1].minTick}(i,n,_)}function l(e){return s(a(e))}function c(e){const t=(0,_.numOfDecimalPlaces)(e),i=Math.pow(10,t);return{priceScale:i,minMove:(0,n.Big)(e).mul(i).toNumber()}}function u(e,t){const i=[{minTick:(0,r.isNumber)(e)?c(e):e,price:1/0,maxIndex:1/0}];try{const e=t.split(" ").map(((e,t)=>(0,o.isEven)(t)?function(e){const t=Number(e);if(Number.isFinite(t))return c(t);{const t=e.split("/");if(t.length<2||t.length>3)throw new Error(`Unexpected mintick: ${e}`);const i=Number(t[1]),n=Number(t[0]);if(!Number.isFinite(i)||!Number.isFinite(n))throw new Error(`Unexpected mintick: ${e}`);const r=3===t.length?Number(t[2]):void 0;if(void 0!==r&&!Number.isFinite(r))throw new Error(`Unexpected mintick: ${e}`);const _={priceScale:i,minMove:n};return void 0!==r&&(_.minMove2=r),_}}(e):function(e){const t=Number(e);if(Number.isNaN(t))throw new Error(`Unexpected price limit: ${e}`);return t}(e)));if((0,
o.isEven)(e.length))throw new Error("Theme must not be event number of elements");const i=[];for(let t=0;t<e.length;t+=2){const r=e[t+1]??1/0,_=i[i.length-1]?.price??0,o=i[i.length-1]?.maxIndex??0,a=r===1/0?1/0:new n.Big(r).minus(_).div(s(e[t])).plus(o).toNumber();i.push({minTick:e[t],price:r,maxIndex:a})}return i}catch{return i}}function d(e,t){return(i,r)=>{if(!Number.isFinite(i))return NaN;if(void 0===t)return new n.Big(i).div(e).mul(r??1).round().toNumber();for(let e=0;e<t.length;e++){const{price:r,minTick:_}=t[e],o=t[e-1]?.price??0,a=t[e-1]?.maxIndex??0;if(i<r)return new n.Big(i).minus(o).div(s(_)).plus(a).round().toNumber()}return NaN}}function h(e,t){return(i,r)=>{if(!Number.isFinite(i))return NaN;if(void 0===t)return(0,n.Big)(i).mul(e).mul(r??1).toNumber();for(let e=0;e<t.length;e++){const{maxIndex:r,minTick:_}=t[e],o=t[e-1]?.price??0,a=t[e-1]?.maxIndex??0;if(i<r)return new n.Big(i).minus(a).mul(s(_)).plus(o).toNumber()}return NaN}}},866893:(e,t,i)=>{i.d(t,{numDependencyFormatter:()=>_,numberToStringWithLeadingZero:()=>r,yieldCurveTickmarksPriceFormatter:()=>o});var n=i(536794);function r(e,t){if(!(0,n.isNumber)(e))return"n/a";if(!(0,n.isInteger)(t))throw new TypeError("invalid length");if(t<0||t>24)throw new TypeError("invalid length");if(0===t)return e.toString();return("00000000000000000000"+e.toString()).slice(-t)}function _(e){const t=new Map;return i=>{const n=i??-1;let r=t.get(n);return r||(r=e(i),t.set(n,r)),r}}function o(e){const t=function(e,t){let i=t;for(;i>0;i--){const t=Math.pow(10,i);if(e.map((e=>Math.round(e*t))).some((e=>e%10)))break}return i}(e,4);return e.map((e=>`${e.toFixed(t)}%`))}},114603:(e,t,i)=>{i.d(t,{formatNumber:()=>o,parseNumber:()=>a});var n=i(960521),r=i(259332),_=i(680574);function o(e,t,i,r,_){if(!Number.isFinite(e))return`${e}`;const o=-1===Math.sign(e)?"-":"";e=Math.abs(e);let s=void 0===i?e.toString():e.toFixed(i);if(s.includes("e")){if(!r)return`${o}${s.replace(".",t.decimalSign)}`;{const i=new n.Big(e);if(s=i.lt(1)?i.toFixed():i.toString(),s.includes("e"))return`${o}${s.replace(".",t.decimalSign)}`}}const a=s.split("."),l=a[0];let c=a[1];const u=function(e,t){let i=e.length;const n=[];for(;i>0;)n.unshift(e.slice(Math.max(i-3,0),i)),i-=3;return n.join(t)}(l,t.groupingSeparator);return void 0!==i&&(c=0===i?void 0:e.toFixed(i).slice(-i)),void 0!==_&&void 0!==c&&(c=function(e,t){let i=e.length-1;for(let n=i;n>=t&&"0"===e[n];n-=1)i-=1;return e.slice(0,i+1)}(c,_)),c?`${o}${u}${t.decimalSign}${c}`:`${o}${u}`}const s=(0,r.default)((e=>{const t=e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");return new RegExp(t,"gm")}));function a(e,t){if(/^(NaN|[+|-]?Infinity)$/.test(e))return parseFloat(e);e=(0,_.stripLTRMarks)(e);const i=s(t.groupingSeparator);return i&&(e=e.replace(i,"")),e=e.replace(t.decimalSign,"."),/^(\+|-)?\d+(\.\d+|\.)?(e(\+|-)?\d+)?$/.test(e)?parseFloat(e):NaN}},804805:(e,t,i)=>{let n;i.d(t,{formatterOptions:()=>r,getNumberFormat:()=>c});const r={decimalSign:".",decimalSignFractional:"'"};const _={groupingSeparator:",",decimalSign:"."},o={groupingSeparator:".",
decimalSign:","},s={groupingSeparator:" ",decimalSign:","},a={groupingSeparator:"",decimalSign:"."},l=new Map([["en",_],["th",_],["ja",_],["ko",_],["zh",_],["zh_TW",_],["ar",_],["he_IL",_],["ms_MY",_],["vi",_],["de",o],["es",o],["it",o],["tr",o],["pt",o],["id_ID",o],["fr",s],["pl",s],["ru",s]]);function c(e){if(e)return{decimalSign:r.decimalSign,groupingSeparator:""};const t=n||window.language||"";return l.get(t)??a}},339563:(e,t,i)=>{i.d(t,{PriceFormatter:()=>A,isFormatterHasForexAdditionalPrecision:()=>E});var n=i(960521),r=i(735566),_=i(650151),o=i(444372),s=i(601316),a=i(680574);const l=new RegExp(/^(-?)[0-9]+$/);function c(e,t,i,n){let r=0;if(e>0&&t>0){let t=e;for(i&&n&&(t/=n);t>1;)t/=10,r++}return r}function u(e,t,i){const n=(0,_.ensureNotNull)((0,s.getMinTickData)({price:i,minTick:null,variableMinTickData:t,shouldCheckForEquality:!0})),{priceScale:r,minMove:o,minMove2:a}=n;return{priceScale:r,minMove:o,fractionalLength:c(r,o,e,a)}}class d{constructor(e){this._formatterErrors={custom:o.t(null,void 0,i(366123)),fraction:o.t(null,void 0,i(339643)),secondFraction:o.t(null,void 0,i(370784))};const{priceScale:t,minMove:n,minMove2:r,ignoreMinMove:_,variableMinTick:a,fractionalLength:l}=e;this._priceScale=t,this._minMove=n,this._minMove2=r,this._ignoreMinMove=_,this._variableMinTickData=void 0===a?void 0:(0,s.makeVariableMinTickData)({priceScale:t,minMove:n,minMove2:r},a),this._fractionalLength=l}formatImpl(e,t={}){const{signPositive:i,signNegative:n=!0,tailSize:r,cutFractionalByPrecision:_=!1,useRtlFormat:o=!0,variableMinTickDataPrice:s,ignoreLocaleNumberFormat:l,noExponentialForm:c,removeAllEndingZeros:u}=t;let d="";e<0?d=!1===n?"":"−":e&&!0===i&&(d="+");const h=this._formatUnsigned(Math.abs(e),{tailSize:r,cutFractionalByPrecision:_,variableMinTickDataPrice:s,ignoreLocaleNumberFormat:l,noExponentialForm:c,removeAllEndingZeros:u}),m="0"===h?h:d+h;return o?(0,a.forceLTRStr)(m):m}parse(e,t){return"+"===(e=(e=(0,a.stripLTRMarks)(e)).replace("−","-"))[0]&&(e=e.substring(1)),this._parseUnsigned(e,t)}_removeEndingZeros(e,t){for(let i=0;i<t&&"0"===e[e.length-1];i++)e=e.substring(0,e.length-1);return e}}var h=i(114603),m=i(866893),f=i(804805);const p=(0,r.getLogger)("Chart.DecimalPriceFormatter");class g extends d{constructor(e){super(e);const{minMove2:t,ignoreLocaleNumberFormat:i,noExponentialForm:n}=e;void 0!==t&&10!==t&&0!==t&&1!==t&&p.logDebug("invalid minmove2"),this._ignoreLocaleNumberFormat=i,this._noExponentialForm=n}hasForexAdditionalPrecision(){return 10===this._minMove2}_parseUnsigned(e,t){return this._parseAsDecimal(e,t)}_formatUnsigned(e,t){const{tailSize:i,cutFractionalByPrecision:n=!1,variableMinTickDataPrice:r,ignoreLocaleNumberFormat:_,noExponentialForm:o,removeAllEndingZeros:s=!1}=t,a={price:Math.abs(e),priceScale:this._priceScale,minMove:this._minMove,fractionalLength:this._fractionalLength,tailSize:i,cutFractionalByPrecision:n,ignoreLocaleNumberFormat:_,noExponentialForm:o,removeAllEndingZeros:s};return void 0!==this._variableMinTickData&&(Object.assign(a,u(!1,this._variableMinTickData,r??a.price)),
this._ignoreMinMove&&(a.minMove=1)),this._formatAsDecimal(a)}_formatAsDecimal(e){const{price:t,priceScale:i,minMove:r,fractionalLength:_=0,tailSize:o=0,cutFractionalByPrecision:s,ignoreLocaleNumberFormat:a=this._ignoreLocaleNumberFormat,noExponentialForm:l=this._noExponentialForm,removeAllEndingZeros:c}=e,u=(0,f.getNumberFormat)(a);if(t>=1e21&&!l)return t.toString().replace(".",u.decimalSign);const d=Math.pow(10,o)*i/(s?1:r),p=1/d;let g;if(d>1)g=Math.floor(t);else{const e=Math.floor(Math.round(t/p)*p);g=0===Math.round((t-e)/p)?e:e+p}let S="";if(d>1){let e=s?new n.Big(t).mul(d).round(void 0,0).minus(new n.Big(g).mul(d)).toNumber():parseFloat((Math.round(t*d)-g*d).toFixed(_));e>=d&&(e-=d,g+=1),e=s?new n.Big(e).round(_,0).toNumber():parseFloat(e.toFixed(_))*r;const i=(0,m.numberToStringWithLeadingZero)(e,_+o);if(!l&&t<1&&_>=10&&i.startsWith("0000")){let e=4;for(let t=e;t<i.length&&"0"===i[t];t++)e++;const t=this._removeEndingZeros(i.slice(e),_);return""===t?"0":`0${u.decimalSign}${t}e-${e}`}const a=this._removeEndingZeros(i,c?i.length:o);S=a?u.decimalSign+a:a}const T=(0,h.formatNumber)(g,u,void 0,l);return T.includes("e")?T:T+S}_parseAsDecimal(e,t={}){const{ignoreLocaleNumberFormat:i}=t,n=(0,f.getNumberFormat)(this._ignoreLocaleNumberFormat||i),r=(0,h.parseNumber)(e,n);return Number.isFinite(r)?{value:r,res:!0,suggest:this.formatImpl(r)}:{error:this._formatterErrors.custom,res:!1}}}const S=(0,r.getLogger)("Chart.FractionalPriceFormatter");class T extends d{constructor(e){super(e);const{minMove2:t}=e;null!=t&&t>0&&2!==t&&4!==t&&8!==t&&S.logDebug("invalid minmove2")}hasForexAdditionalPrecision(){return!1}_parseUnsigned(e){return this._minMove2?this._parseAsDoubleFractional(e):this._parseAsSingleFractional(e)}_formatUnsigned(e,t){const{tailSize:i,variableMinTickDataPrice:n}=t,r={price:Math.abs(e),priceScale:this._priceScale,minMove:this._minMove,minMove2:this._minMove2,fractionalLength:(0,_.ensureDefined)(this._fractionalLength),tailSize:i};return void 0!==this._variableMinTickData&&Object.assign(r,u(!0,this._variableMinTickData,n??r.price)),this._formatAsFractional(r)}_parseAsSingleFractional(e){let t=l.exec(e);if(t){const t=parseFloat(e);return{value:t,res:!0,suggest:this.formatImpl(t)}}if(t=new RegExp("^(-?)([0-9]+)\\"+f.formatterOptions.decimalSignFractional+"([0-9]+)$").exec(e),t){const e=!!t[1],i=parseInt(t[2]),n=this._priceScale,r=this._patchFractPart(parseInt(t[3]),1,n);if(r>=n||r<0)return{error:this._formatterErrors.fraction,res:!1};let _=i+r/n;return e&&(_=-_),{value:_,res:!0,suggest:this.formatImpl(_)}}return{error:this._formatterErrors.custom,res:!1}}_parseAsDoubleFractional(e){let t=l.exec(e);if(t){const t=parseFloat(e);return{value:t,res:!0,suggest:this.formatImpl(t)}}if(t=new RegExp("^(-?)([0-9]+)\\"+f.formatterOptions.decimalSignFractional+"([0-9]+)\\"+f.formatterOptions.decimalSignFractional+"([0-9]+)$").exec(e),t){
const e=!!t[1],i=parseInt(t[2]),n=void 0!==this._minMove2&&null!==this._minMove2?this._minMove2:NaN,r=this._priceScale/n,_=this._minMove2,o=this._patchFractPart(parseInt(t[3]),1,r),s=this._patchFractPart(parseInt(t[4]),2,_);if(o>=r||o<0)return{error:this._formatterErrors.fraction,res:!1};if(null!=_&&s>=_||s<0)return{error:this._formatterErrors.secondFraction,res:!1};let a=null!=_?i+o/r+s/(r*_):NaN;return e&&(a=-a),{value:a,res:!0,suggest:this.formatImpl(a)}}return{error:this._formatterErrors.custom,res:!1}}_patchFractPart(e,t,i){const n={0:0,5:1},r={0:0,2:1,5:2,7:3},_={0:0,1:1,2:2,3:3,5:4,6:5,7:6,8:7};return 2===i?void 0===n[e]?-1:n[e]:4===i?void 0===r[e]?-1:r[e]:8===i&&2===t?void 0===_[e]?-1:_[e]:e}_formatAsFractional(e){const{price:t,tailSize:i,priceScale:n,minMove:r,minMove2:_,fractionalLength:o}=e,s=n/r;let a=Math.floor(t),l=i?Math.floor(t*s)-a*s:Math.round(t*s)-a*s;l===s&&(l=0,a+=1);let c="";if(i){let e=(t-a-l/s)*s;e=Math.round(e*Math.pow(10,i)),c=(0,m.numberToStringWithLeadingZero)(e,i),c=this._removeEndingZeros(c,i)}if(!o)throw new Error("_fractionalLength is not calculated");let u="";if(_){const e=l%_;l=(l-e)/_;const t=(0,m.numberToStringWithLeadingZero)(l,o),i=this._getFractPart(e,2,_);u=t+f.formatterOptions.decimalSignFractional+i}else l=this._getFractPart(l,1,n),u=(0,m.numberToStringWithLeadingZero)(l*r,o);return a.toString()+f.formatterOptions.decimalSignFractional+u+c}_getFractPart(e,t,i){const n=[0,5],r=[0,2,5,7],_=[0,1,2,3,5,6,7,8];return 2===i?void 0===n[e]?-1:n[e]:4===i?void 0===r[e]?-1:r[e]:8===i&&2===t?void 0===_[e]?-1:_[e]:e}}var v=i(536794);function E(e){return"hasForexAdditionalPrecision"in e}class A{constructor(e={}){this.type="price";const{minMove2:t,fractional:i,variableMinTick:n,ignoreMinMove:r,ignoreLocaleNumberFormat:_}=e,o=!e.minMove||r?1:e.minMove,s=(0,v.isNumber)(e.priceScale)&&(0,v.isInteger)(e.priceScale)?e.priceScale:100,a=c(s,o,i,t),l={...e,minMove:o,priceScale:s,fractionalLength:a};if(s<0)throw new TypeError("invalid base");this._priceScale=s,this._minMove=o,this._minMove2=t,this._fractional=i,this._variableMinTick=n,this._ignoreMinMove=r,this._fractionalLength=a,this._ignoreLocaleNumberFormat=_,this._noExponentialForm=e.noExponentialForm,this._implementation=i?new T(l):new g(l)}isFractional(){return!!this._fractional}state(){return{minMove:this._minMove,minMove2:this._minMove2,priceScale:this._priceScale,variableMinTick:this._variableMinTick,ignoreMinMove:this._ignoreMinMove,fractional:this._fractional,noExponentialForm:this._noExponentialForm}}formatChange(e,t,i){return this._implementation.formatImpl(e-t,{...i,variableMinTickDataPrice:Math.min(Math.abs(e),Math.abs(t))})}format(e,t){return this._implementation.formatImpl(e,t)}parse(e,t){return this._implementation.parse(e,t)}hasForexAdditionalPrecision(){return this._implementation.hasForexAdditionalPrecision()}static serialize(e){return e.state()}static deserialize(e){return new A(e)}}},840810:(e,t,i)=>{i.d(t,{isTicksEnabled:()=>r});var n=i(638456);i(313266);function r(){return!(0,n.onWidget)()}},707681:(e,t,i)=>{function n(e){
const t={};if(-1===e.indexOf("@"))t.shortId=e,t.packageId="tv-basicstudies",t.id=e+"@"+t.packageId,t.version=1;else{const i=e.split("@");t.shortId=i[0];const n=i[1].split("-");if(3===n.length)t.packageId=n.slice(0,2).join("-"),t.id=t.shortId+"@"+t.packageId,t.version=parseInt(n[2]);else if(1===n.length&&"decisionbar"===n[0])t.packageId="les-"+n[0],t.id=t.shortId+"@"+t.packageId,t.version=1;else{if(1!==n.length)throw new Error("unexpected study id:"+e);t.packageId="tv-"+n[0],t.id=t.shortId+"@"+t.packageId,t.version=1}}if(t.fullId=t.id+"-"+t.version,"tv-scripting"===t.packageId){const e=t.shortId;if(0===e.indexOf("Script$")||0===e.indexOf("StrategyScript$")){const i=e.indexOf("_");t.productId=i>=0?e.substring(0,i):t.packageId}else t.productId=t.packageId}else t.productId=t.packageId;return t}i.d(t,{parseIdString:()=>n})},659935:(e,t,i)=>{var n;i.d(t,{BillingCycle:()=>n,MONTHLY_SUBSCRIPTION_DAYS_LEN:()=>_,WEEKLY_SUBSCRIPTION_DAYS_LEN:()=>r}),function(e){e.Monthly="m",e.ThreeMonths="3m",e.OneYear="y"}(n||(n={}));const r=7,_=30},381467:(e,t,i)=>{i.r(t),i.d(t,{CUSTOM_SUFFIX:()=>s,EA_SUFFIX:()=>o,TRIAL_SUFFIX:()=>_,billingCycleToMonth:()=>A,billingCycleToTimeUnit:()=>a,billingPeriodText:()=>u,countDiscountByBillingCycle:()=>v,countPriceIncludeExtraDays:()=>E,floor0:()=>O,getCouponBillingCycleInfo:()=>y,getDiscountFromEarlyAccess:()=>f,getDiscountProductId:()=>p,getPlanName:()=>L,getProductForTrial:()=>m,getReadableCycle:()=>l,getReadableNumericCycle:()=>c,getRelativeAmountOfDaysFromBillingCycle:()=>T,humanizeCardPlan:()=>S,humanizeProPlan:()=>g,isEarlyAccess:()=>d,isOldUser:()=>C,isTrialProduct:()=>h,round0:()=>I,round1or0:()=>N,round2:()=>b,round2or0:()=>R,roundMinimal:()=>M});i(7742);var n=i(444372),r=i(659935);const _="_trial",o="_discount",s="_custom";function a(e){return{y:n.t(null,{plural:"years",count:1},i(993205)),m:n.t(null,{plural:"months",count:1},i(898393)),"3m":n.t(null,void 0,i(81277))}[e]||""}function l(e){return{m:n.t(null,void 0,i(173039)),y:n.t(null,void 0,i(317310)),"3m":n.t(null,void 0,i(820877))}[e]||""}function c(e){return{[r.BillingCycle.Monthly]:n.t(null,void 0,i(173039)),[r.BillingCycle.OneYear]:n.t(null,void 0,i(744479)),[r.BillingCycle.ThreeMonths]:n.t(null,void 0,i(820877))}[e]||""}function u(e){return{y:n.t(null,void 0,i(967752)),m:n.t(null,void 0,i(745504))}[e]??""}function d(e){return/\d{0,2}_discount$/.test(e)}function h(e){return new RegExp(_+"$").test(e)}function m(e){return e.split(_)[0]}function f(e){const t=e.match(new RegExp("^(d{0,2})"+o+"$"));return t?+t[1]||50:0}function p(e,t,i){return`${e}_${t}${i}`}function g(e,t){let r=e;switch(e){case"free":r="Basic";break;case"pro":r="Essential";break;case"pro_realtime":r="Plus";break;case"pro_premium":r="Premium";break;case"pro_expert":r="Expert";break;case"pro_premium_expert":r="Ultimate"}return t&&(r+=" "+n.t(null,void 0,i(233969))),r}function S(e){let t=e;switch(e){case"pro":t="Essential";break;case"pro_realtime":t="Plus";break;case"pro_premium":t="Premium";break;case"pro_expert":t="Expert";break;case"pro_premium_expert":t="Ultimate";break
;case"free":t="Basic"}return t}function T(e,t){const i=t||new Date,n=A(e),r=i.getMonth()+n,_=new Date(new Date(i).setMonth(r));return _.getMonth()>r%12&&_.setDate(0),function(e,t){const i=t.getTime()-e.getTime();return Math.round(i/1e3/60/60/24)}(i,_)}function v(e,t,i){return Math.round((t-e)*A(i))}function E(e,t,i=0){return e/(30*A(t)+i)*(30*A(r.BillingCycle.Monthly))}function A(e){switch(e){case r.BillingCycle.OneYear:return 12;case r.BillingCycle.ThreeMonths:return 3;default:return 1}}function y(e){const t=n.t(null,void 0,i(425256));switch(e){case r.BillingCycle.Monthly:return n.t(null,void 0,i(699912));case r.BillingCycle.OneYear:default:return t}}function b(e){return(Math.round(100*e)/100).toFixed(2)}function I(e){const t=Math.round(100*e)/100;return Math.round(t).toFixed(0)}function O(e){return Math.floor(e).toString()}function R(e){const t=Math.round(100*e)/100,i=Math.round(t);return Math.abs(t-i)>0?t.toFixed(2):i.toFixed(0)}function N(e){return Number.isInteger(e)?e.toFixed(0):(Math.round(10*e)/10).toFixed(1)}function M(e){const t=Math.round(100*e)/100,i=Math.round(10*e)/10,n=Math.round(t);return Math.abs(t-n)>0?Math.abs(t-i)>0?t.toFixed(2):i.toFixed(1):n.toFixed(0)}function L(e){const t=n.t(null,void 0,i(946530));if(h(e)){const i=g(m(e));return t.format({proPlanName:i})}return g(e)}function C(){return!!window.user.date_joined&&new Date(window.user.date_joined).getTime()<new Date("2022-05-26").getTime()}}}]);