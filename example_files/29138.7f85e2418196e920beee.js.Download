"use strict";(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[29138],{832617:(e,t,n)=>{n.d(t,{initAlerts:()=>o});var i=n(650151),r=n(638456),s=n(314802);async function o(){const e=function(){if(!window.initData.offlineAlertEventsOnInit)return!1;if((0,r.checkPageType)("mobile")||(0,s.isOnMobileAppPage)("any"))return!1;return!0}(),[t,o]=await Promise.all([e?Promise.all([n.e(83477),n.e(99892),n.e(26184),n.e(29903),n.e(24840),n.e(7204),n.e(12874),n.e(20541),n.e(97406),n.e(94425),n.e(68448),n.e(28903),n.e(96421),n.e(30184),n.e(67007),n.e(51384),n.e(3975),n.e(74150),n.e(55091),n.e(24377),n.e(44962),n.e(8721),n.e(53287),n.e(2139),n.e(35938),n.e(96657),n.e(6534),n.e(93500),n.e(43890),n.e(91046)]).then(n.bind(n,800504)):Promise.resolve(null),e?n.e(35844).then(n.bind(n,779672)):Promise.resolve(null)]);e&&(0,i.ensureNotNull)(t).tryInitAlertsNotifications((0,i.ensureNotNull)(o).toastManager,window.TVD??null)}},357517:(e,t,n)=>{function i(e){let t=null;return(n,...i)=>(t?.abort(),t=new AbortController,n?.aborted?t.abort():n?.addEventListener("error",(()=>t?.abort()),{once:!0}),e(t.signal,...i))}function r(e){if(!c(e))throw e}function s(e){if(c(e))throw e}function o(e){return e?.aborted?Promise.reject(a()):new Promise(((t,n)=>{e?.addEventListener("abort",(()=>n(a())),{once:!0})}))}function a(){return new DOMException("Aborted","AbortError")}function c(e){return e instanceof Error&&"AbortError"===e.name||"object"==typeof e&&null!==e&&"name"in e&&"AbortError"===e.name}function l(e,t){return Promise.race([o(e),t])}async function u(e,t){let n;try{await l(e,new Promise((e=>{n=setTimeout(e,t)})))}finally{clearTimeout(n)}}n.d(t,{createAbortError:()=>a,delay:()=>u,isAbortError:()=>c,respectAbort:()=>l,respectLatest:()=>i,rethrowAbortError:()=>s,skipAbortError:()=>r})},881383:(e,t,n)=>{n.d(t,{getLiveRegionInstance:()=>o,initLiveRegion:()=>a});n(50959);class i{constructor(e,t=[]){this._messagesQueue=[],this._alternate=!1,this._renderedMessage=null,this._idCounter=0,this._containers=[...t],this._type=e}setContainers(e){this._containers=[...e]}addMessage(e,t=0){const n=this._generateId(),i={id:n,message:e,destroyTimeout:this._calculateDestroyTimeout(e,t)};return this._messagesQueue.push(i),this._renderedMessage||this._renderMessage(),{...i,type:this._type,destroy:this._getDestroyMessageCallback(n)}}destroyAll(){this._messagesQueue=[],clearTimeout(this._renderedMessage?.destroyTimer),this._containers.forEach((e=>{e.innerText=""})),this._renderedMessage=null,this._alternate=!1}_generateId(){return`live-region-${this._type}-${this._idCounter++}`}_calculateDestroyTimeout(e,t=0){const n=50*e.trim().length+200,i=250*e.trim().length;return Math.min(Math.max(n,t),i)}_findById(e){return this._renderedMessage?.id===e?this._renderedMessage:this._messagesQueue.find((t=>t.id===e))}_getDestroyMessageCallback(e){return async t=>{const n=this._findById(e);return!!n&&(n.renderedTo?!!t&&(this._removeRenderedMessage(),this._renderMessage(),!0):(this._removeFromQueue(n),!0))}}_removeRenderedMessage(){
const e=this._renderedMessage?.renderedTo;e&&(e.innerText=""),this._renderedMessage=null}_removeFromQueue(e){this._messagesQueue=this._messagesQueue.filter((t=>t!==e))}async _renderMessage(){if(!this._containers.length||!this._messagesQueue.length)return;const e=this._alternate?this._containers[0]:this._containers[1],t=this._messagesQueue.shift();let n;e.innerText=t.message;const i=new Promise(((e,i)=>{n=setTimeout((()=>{if(this._renderedMessage?.id===t.id)return this._removeRenderedMessage(),void this._renderMessage().then(e);i("Currently rendered message is not the one that you 're trying to destroy")}),t.destroyTimeout)}));this._renderedMessage={...t,renderedTo:e,destroyTimer:n,destroyPromise:i},this._alternate=!this._alternate}}class r extends i{}const s=new class{constructor(){this.isInited=!1,this._politeQueue=new r("polite"),this._assertiveQueue=new r("assertive")}renderTo(e,t=!1){return t&&this.destroy(),this._init(e)}destroy(){this._politeQueue.destroyAll(),this._assertiveQueue.destroyAll(),this.isInited=!1}sayPolitely(e,t){return this.isInited?this._politeQueue.addMessage(e,t):null}interrupt(e,t){return this.isInited?this._assertiveQueue.addMessage(e,t):null}_init(e){if(!e)return!1;if(this.isInited)return!1;return!!this._setContainers(e)&&(this.isInited=!0,!0)}_setContainers(e){const t=document.getElementById(e);if(!t)return!1;const n=t.querySelectorAll('[aria-live="polite"]'),i=t.querySelectorAll('[aria-live="assertive"]');return!(!n||2!==n.length||!i||2!==i.length)&&(this._politeQueue.setContainers([n[0],n[1]]),this._assertiveQueue.setContainers([i[0],i[1]]),!0)}};function o(){return s}function a(e){return o().renderTo(e),o()}},742480:(e,t,n)=>{n.d(t,{initSnackbarContainer:()=>r});const i="snackbar-container";function r(){let e=document.getElementById(i);return e||(e=document.createElement("div"),e.setAttribute("aria-live","polite"),e.id=i,document.body.appendChild(e),e)}},752023:(e,t,n)=>{n.r(t),n.d(t,{cookieBannerDelegate:()=>c,initCookiesNotification:()=>h,showCookiesNotification:()=>u});var i=n(199010),r=n(197188),s=n(261030),o=n(638456),a=n(314802);n(659863);const c=(0,r.createDeferredPromise)();let l=!1;async function u(){if(l)return;const{setCookieStageStatus:e}=await n.e(38869).then(n.bind(n,597667));l=!0;const t=await n.e(38869).then(n.bind(n,415127));await t.showCookiesNotification(),e(!0),l=!1}const d=["/symbols"];async function h(){const{setCookieStageStatus:e}=await n.e(38869).then(n.bind(n,597667));if((0,o.isSymphonyEmbed)())return e(!0),(0,s.notApplicateBanner)(),(0,s.setCookieSetting)(s.CookieSettings.Analytics,!0),(0,s.setCookieSetting)(s.CookieSettings.Advertising,!1),void s.cookieSettingsReady.resolve();if((0,s.checkBannerPrivacyPreferenceKey)()||(0,a.isOnMobileAppPage)("any")||/^\/widget-wizard\//.test(window.location.pathname))e(!0);else{const n=document.querySelector(".js-main-page-promo-container"),r=d.find((e=>window.location.pathname.includes(e)));if(n||r||c.resolve(),r&&window.addEventListener("scroll",(function e(){
window.scrollY>=.2*document.documentElement.scrollHeight&&(c.resolve(),window.removeEventListener("scroll",e))})),(0,s.isBannerVisible)())return s.cookieSettingsReady.resolve(),c.promise.then((()=>u()));{const n=await(0,i.userGeoInfo)();if(n.is_in_european_union||(t=n.country_code,["is","li","no","gb"].includes(t)))return(0,s.showBanner)(),s.cookieSettingsReady.resolve(),c.promise.then((()=>u()));e(!0),(0,s.notApplicateBanner)(),(0,s.setCookieSetting)(s.CookieSettings.Analytics,!0),(0,s.setCookieSetting)(s.CookieSettings.Advertising,!0)}}var t;s.cookieSettingsReady.resolve()}},484443:(e,t,n)=>{function i(e,t){let n=0;for(const{min:i,max:r}of t){if(e<i||r<i)continue;const t=Math.min(e,r);if(n=Math.max(n,t),e===n)break}return n}function r(e){const t=[];if(void 0===e)return[];Array.isArray(e)||(e=[e]);for(const n of e){let e,i;isFinite(n)?e=i=Number(n):(e=+n.min,i=+n.max),(e<0||isNaN(e))&&(e=0),isNaN(i)&&(i=1/0),e<=i&&i>0&&t.push({min:e,max:i})}return t.sort(((e,t)=>e.min-t.min||e.max-t.max)),t}function s(e,t){if(e.length!==t.length)return!1;for(let n=e.length;n--;){if(e[n].min!==t[n].min)return!1;if(e[n].max!==t[n].max)return!1}return!0}n.d(t,{determineSize:()=>i,negotiationsAreEqual:()=>s,processNegotiation:()=>r})},974493:(e,t,n)=>{n.d(t,{Root:()=>f});var i=n(77294),r=n(581996);class s{constructor(e){this._document=e,this.isFullscreen=new i.WatchedValue;const t=()=>{const e=["fullscreenElement","webkitFullscreenElement","mozFullscreenElement","mozFullScreenElement","msFullscreenElement"];for(let t=0;t<e.length;t++){const n=e[t];if(n in this._document){this.isFullscreen.setValue(!!this._document[n]);break}}};t();for(const n of["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"])e.addEventListener(n,t,!1)}enter(){const e=this._document.documentElement;for(const t of["requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","msRequestFullscreen"])if("function"==typeof e[t]){e[t]();break}this.isFullscreen.setValue(!0)}exit(){const e=this._document;for(const t of["exitFullscreen","mozCancelFullScreen","mozExitFullscreen","webkitExitFullscreen","msExitFullscreen"])if("function"==typeof e[t]){e[t]();break}this.isFullscreen.setValue(!1)}}var o=n(470316),a=n(251954);class c{constructor(e){this.isFullscreen=new i.WatchedValue,this._handleExit=e=>{27!==(0,o.hashFromEvent)(e)||e.defaultPrevented||(e.preventDefault(),this.exit())},this._element=e}enter(){this.isFullscreen.setValue(!0),a.emit("onInternalFullscreenShow"),this._element.addEventListener("keydown",this._handleExit)}exit(){this.isFullscreen.setValue(!1),a.emit("onInternalFullscreenHide"),this._element.removeEventListener("keydown",this._handleExit)}}var l=n(554433),u=n(314802),d=n(650151),h=n(638456);class f{constructor(e,t){this._updateDocumentHeight=e=>{"visual"===this._viewportType&&this._window.document.documentElement.style.setProperty("height",`${e}px`,"important")},this._window=e,this._fullscreenApi=t?new c(e.document.body):new s(e.document),this._viewportType=h.CheckMobile.iOS()&&!(0,
u.isOnMobileAppPage)("any")&&this._window.visualViewport?"visual":"quirks","visual"===this._viewportType?this._viewport=(0,d.ensure)(this._window.visualViewport):this._viewport=this._window;const n=this._layoutSizeSensor=this._window.document.createElement("div");n.id="layout-size-sensor",n.style.position="fixed",n.style.top="0",n.style.left="0",n.style.right="0",n.style.bottom="0",n.style.pointerEvents="none",n.style.visibility="hidden",this._initFullscreen()}allocate(){this.free();const e=this._window.document,t=e.createElement("div");t.classList.add("js-rootresizer__contents"),t.style.position="relative",t.style.width="100%",t.style.height="100%",e.body.insertAdjacentElement("afterbegin",t),e.body.insertAdjacentElement("afterbegin",this._layoutSizeSensor),this._visibilityApi=new l.VisibilityApi(this._window.document);const n={alive:new i.WatchedValue(!0),fullscreenable:new i.WatchedValue(!0),container:new i.WatchedValue(t),width:new i.WatchedValue,height:new i.WatchedValue,availWidth:new i.WatchedValue,availHeight:new i.WatchedValue,visible:this._visibilityApi.isVisible,fullscreen:this._fullscreenApi.isFullscreen,remove:()=>{n.alive.setValue(!1)},attach:()=>{n.alive.setValue(!1),this._window.close()},requestFullscreen:()=>{this._requestFullscreen()},exitFullscreen:()=>{this._exitFullscreen()}};return n.alive.subscribe((e=>{e||n!==this._area||this.free()})),this._area=n,this._resizeHandler=()=>{const e=this._width(n)||800,t=this._height(n)||600;n.availHeight.setValue(t),n.availWidth.setValue(e),n.height.setValue(t),n.width.setValue(e)},this._area.height.subscribe(this._updateDocumentHeight,{callWithLast:!0}),this._resizeHandler(),this._viewport.addEventListener("resize",this._resizeHandler),new r.ResizerDetacherState(n).bridge()}free(){if(this._resizeHandler&&(this._viewport.removeEventListener("resize",this._resizeHandler),this._resizeHandler=void 0),this._visibilityApi&&(this._visibilityApi.destroy(),this._visibilityApi=void 0),this._area){const e=this._area;this._area=void 0,e.height.unsubscribe(this._updateDocumentHeight),e.alive.setValue(!1);const t=e.container.value(),n=t?.parentElement;n&&(n.removeChild(t),n.removeChild(this._layoutSizeSensor))}}_height(e){if("visual"===this._viewportType)return this._layoutSizeSensor.clientHeight;return e.container.value().clientHeight}_width(e){return e.container.value().clientWidth}_requestFullscreen(){this._fullscreenApi.enter()}_exitFullscreen(){this._fullscreenApi.exit()}_initFullscreen(){this._fullscreenApi.isFullscreen.subscribe((e=>{this._resizeHandler&&this._resizeHandler()}))}}},167989:(e,t,n)=>{n.d(t,{initSubscribeToGlobalEventsStorage:()=>r});var i=n(251954);function r(){window.subscribeGlobalEventsStorage=(e,t)=>{i.subscribe(e,t,null)}}},921454:(e,t,n)=>{n.d(t,{POPUP_IN_CLOSING_PROCESS_CLASS:()=>o,POPUP_ROOT_CONTAINER_CLASS:()=>a,init:()=>d,showUserLinkPopup:()=>l,unmountUserLinkPopupInstances:()=>u});var i=n(778785),r=n(954912),s=n(357517);const o="user-link-popup-in-closing",a="user-link-popup-root-container";class c{constructor(e,t){
const{username:n,openTimeoutDuration:i}=t??{};this._target=e,this._abortController=new AbortController;const r=(this._target.getAttribute("data-username")||this._target.textContent)??void 0;this._username=n??r,this._openTimeoutDuration=i}openPopup(){if(c.isPopupOpened())return;const e=setTimeout((async()=>{try{await this._renderPopupComponent()}catch(e){(0,s.skipAbortError)(e)}}),50);this._target.addEventListener("mouseleave",(()=>{clearTimeout(e),this._abortController.abort()}),{once:!0})}static isPopupOpened(){const e=document.body.querySelector(`.${a}`),t=e&&!e.classList.contains(o);return Boolean(t)}static isElementContainsPopupClass(e){return e.classList.contains("js-userlink-popup")}static async unmountAllPopupInstances(){const e=Array.from(document.querySelectorAll(`.${a}`)).map((e=>e.parentElement)).filter((e=>Boolean(e)));if(e.length)for(const t of e)c._unmountPopupInstance(t)}_isPopupUserModel(e){return"ideas"in e&&"followers"in e}async _getPopupData(e,t){const n=`/api/v1/users/${e}/popup/`,i=await(0,r.fetch)(n,{method:"GET",signal:t});if(!i.ok)return null;return await i.json()}_formatDataIntoProps(e){const t=this._target.matches('[target="_blank"]')?"_blank":void 0,n=this._isPopupUserModel(e);return{name:e.username,displayName:n?e.username:e.display_name,badges:e.badges,isBroker:e.is_broker,ideasCount:n?e.ideas:void 0,profileUrl:e.uri,followers:n?e.followers:void 0,userPic:e.avatars.mid,isFollowed:e.follow_status,status:e.status,showButtons:e.username!==window.user.username,brokerRatingFormatted:n?void 0:e.rating_details.formatted,brokerRating:n?void 0:e.rating_details.value,hrefTarget:t,isBanned:e.is_banned}}async _renderPopupComponent(){if(!this._username)return;const[e,{renderUserLinkPopup:t}]=await Promise.all([this._getPopupData(this._username,this._abortController.signal),(0,s.respectAbort)(this._abortController.signal,Promise.all([n.e(2082),n.e(26184),n.e(6656),n.e(98703),n.e(30331),n.e(6811),n.e(34022),n.e(9313),n.e(22969),n.e(75432),n.e(70571),n.e(65664),n.e(32227),n.e(89568)]).then(n.bind(n,158467)))]);if(!e||this._abortController.signal.aborted)return;const i=document.createElement("div");document.body.appendChild(i);const r=this._formatDataIntoProps(e);t(i,{target:this._target,onClose:()=>c._unmountPopupInstance(i),renderViewProps:r,openTimeoutDuration:this._openTimeoutDuration})}static async _unmountPopupInstance(e){if(!document.body.contains(e))return;const{unmountUserLinkPopup:t}=await Promise.all([n.e(2082),n.e(26184),n.e(6656),n.e(98703),n.e(30331),n.e(6811),n.e(34022),n.e(9313),n.e(22969),n.e(75432),n.e(70571),n.e(65664),n.e(32227),n.e(89568)]).then(n.bind(n,158467));t(e),e.remove()}}function l(e,t){new c(e,t).openPopup()}async function u(){c.unmountAllPopupInstances()}async function d(){const e=e=>{if(!(e.target instanceof Element))return;const t=e.target;c.isElementContainsPopupClass(t)&&l(t)};i.mobiletouch||document.body.addEventListener("mouseenter",e,{capture:!0})}},833813:(e,t,n)=>{var i;n.d(t,{ProductFeaturesEnum:()=>i,UNLIMITED_FEATURE_LIMIT:()=>r}),function(e){
e.CAN_EDIT_PUBLIC_CHATS="CAN_EDIT_PUBLIC_CHATS",e.NO_SPONSORED_ADS="NO_SPONSORED_ADS",e.ALERTS_NO_EXPIRATION="ALERTS_NO_EXPIRATION",e.ALERTS_WEBHOOK="ALERTS_WEBHOOK",e.SCREENER_AUTO_REFRESH="SCREENER_AUTO_REFRESH",e.SCREENER_INTERVALS="SCREENER_INTERVALS",e.SCREENER_EXPORT_DATA="SCREENER_EXPORT_DATA",e.SOCIAL_ACTIVITY="SOCIAL_ACTIVITY"}(i||(i={}));const r=99999},575200:(e,t,n)=>{n.d(t,{appendGoogleScript:()=>w,completeGoogleAuth:()=>b,googleButtonDelegate:()=>p,initOneTapSignIn:()=>g});var i=n(691805),r=n(588948),s=n(72224),o=n(638456),a=n(251924),c=n(197188),l=n(486710),u=n(660681),d=n(691840),h=n(308180),f=n(125226);const m="https://accounts.google.com/gsi/client",p=new a.Delegate;let _=!1;function g(){window.GOOGLE_CLIENT_ID&&!(0,r.getFreshInitData)().googleSigninPopupDisabled&&(o.CheckMobile.iOS()?setTimeout((()=>{w()}),6e4):w())}async function w(){if(_)return;_=!0;const e=(0,c.createDeferredPromise)(),t=(0,i.appendScript)(m);t.onload=()=>e.resolve(),t.onerror=()=>e.reject(),window.handleGoogleCredentialResponse=e=>{e.select_by.startsWith("btn")?p.fire(e.credential):async function(e){const t=(0,s.getUrlParams)(),n={feature_source:"google_one_tap",utm_source:t.utmsource,utm_medium:t.utmmedium},i=new FormData;i.append("token",e),i.append("mode_with_confirmation",(0,f.isFeatureEnabled)("enable_social_auth_confirmation")?"signin-with-confirm":"signin"),b(i,n,(e=>{window.user=e.user,window.TradingView.changeLoginState(!0)}),(e=>(0,d.showSignModal)({mode:"second-factor",secondAuthFactorInfo:e})),h.showErrorDialog,(e=>(0,d.showSignModal)({mode:"social-auth-confirmation",socialConfirmData:e})))}(e.credential)},window.logMomentNotification=()=>{window.is_authenticated?y():window.loginStateChange.subscribe(null,y,!0)};const n=document.createElement("div");return n.setAttribute("id","g_id_onload"),n.setAttribute("data-client_id",window.GOOGLE_CLIENT_ID),n.setAttribute("data-callback","handleGoogleCredentialResponse"),n.setAttribute("data-use_fedcm_for_prompt","true"),n.setAttribute("data-moment_callback","logMomentNotification"),n.setAttribute("data-cancel_on_tap_outside","false"),document.body.appendChild(n),e.promise}function y(){window.google.accounts.id.cancel()}async function b(e,t,n,i,r,s){(0,l.socialAuth)(e,t).then(n).catch((e=>{const t=["2FA_required","2FA_challenge_not_generated"].includes(e.type??"");if("SA_unconfirmed_auth"===e.type&&s&&e.socialConfirmData)s(e.socialConfirmData);else if(t&&e.secondFactorTypes&&e.secondFactorTypes.length>0){const t=u.SMS_BANNED_STATUS===e.status,r=e.secondFactorTypes[0],s={codeTTL:"sms"===r.name?r.code_ttl:void 0,type:r.name,onlyBackup:t,onSignin:n};i(s)}else e.message&&r(e.message)}))}},470316:(e,t,n)=>{n.d(t,{Modifiers:()=>i.Modifiers,hashFromEvent:()=>i.hashFromEvent,hashShiftPlusEnter:()=>i.hashShiftPlusEnter,humanReadableHash:()=>i.humanReadableHash,humanReadableModifiers:()=>i.humanReadableModifiers,isMacKeyboard:()=>i.isMacKeyboard,modifiersFromEvent:()=>i.modifiersFromEvent});var i=n(591800)},46277:(e,t,n)=>{n.r(t),n.d(t,{DialogAction:()=>r,FeatureId:()=>i,
createExtendedSolution:()=>c,errorCode:()=>o,trackSocialNetworkEvent:()=>a});var i,r,s=n(776734);!function(e){e.CreateIdea="free__create_public_idea",e.CreateComment="free__create_comment",e.CreateMessageChat="free__create_message_chat"}(i||(i={})),function(e){e.Open="open",e.OpenSolution="open_solution"}(r||(r={}));const o="permissions_denied";async function a(e,t){const n=await(0,s.getTracker)();if(n){const i=window.user.id?.toString();n.trackPermissionDialog(e,t,i||"")}}function c(e,t){const n=e.match(/\d+\//gm)?.[0];return e.replace(n||"",n+t)}},519073:(e,t,n)=>{function i(e){return void 0!==e&&e.includes("crypto")}function r(e,t){return"spot"===e&&i(t)}function s(e,t){return"stock"===e&&t.includes("right")||"right"===e}function o(e,t){return a(e,t)||"stock"===e&&t.includes("fund")&&t.includes("etf")||"structured"===e&&t.includes("etn")}function a(e,t){return function(e,t){return"fund"===e&&t.includes("mutual")}(e,t)||"fund"===e&&t.includes("etf")}function c(e){return"bond"===e}function l(e,t){return"bond"===e&&t.includes("corporate")}function u(e){return"economic"===e}function d(e){return"option"===e}function h(e){return"dex"===e?.centralization}function f(e){return"spread"===e}function m(e){return"futures"===e}function p(e){return"forex"===e}function _(e,t,n){return i(t)&&"spot"===e&&"USD"===n}function g(e,t){return"spot"===e&&t.includes("cryptoasset")}function w(e,t){return Boolean("bond"===e&&t.includes("government")&&!t.includes("benchmark"))}function y(e){return Boolean(e.typespecs?.includes("yield"))}function b(e,t){return"stock"===e&&t.includes("common")||"stock"===e&&t.includes("preferred")||"stock"===e&&t.includes("forward")||"stock"===e&&t.includes("bonus")||"stock"===e&&t.includes("cfd")||"fund"===e&&t.includes("unit")||"fund"===e&&t.includes("trust")||"fund"===e&&t.includes("reit")||"fund"===e&&t.includes("etn")||"fund"===e&&t.includes("closedend")||"bond"===e&&t.includes("convertible")||"dr"===e||"warrant"===e||"structured"===e&&!t.includes("etn")}function v(e){return e?.includes("discontinued")??!1}function S(e,t=[]){return b(e,t)&&t.includes("pre-ipo")}n.d(t,{hasCryptoTypespec:()=>i,isBond:()=>c,isCorporateBond:()=>l,isCryptoSpot:()=>r,isCryptoSpotUsd:()=>_,isCryptoassetSpot:()=>g,isDex:()=>h,isEconomicSymbol:()=>u,isEtf:()=>o,isForexSymbol:()=>p,isFundEtf:()=>a,isFutures:()=>m,isGovernmentOnlyBond:()=>w,isOption:()=>d,isPreIpo:()=>S,isRight:()=>s,isSpread:()=>f,isStocksSymbol:()=>b,isSymbolDelisted:()=>v,isYield:()=>y})},61499:(e,t,n)=>{var i;n.d(t,{StdTheme:()=>i}),function(e){e.Light="light",e.Dark="dark"}(i||(i={}))},856279:(e,t,n)=>{n(184548);var i=n(444372),r=n(277038),s=n(74867),o=n(262078),a=n(345848),c=n(226722),l=n(735566);const u=(0,l.getLogger)("UserSessions");let d,h=0,f=!1,m=!1;function p(e){if(f){ChartApiInstance.connect({tokenGrabSession:e});const t=ChartApiInstance.connectDfd;return f=!1,d&&(t.then((function(){(0,a.trackEvent)("Auth","Different Device Active Recovery"),d.destroy(),d=void 0})),t.catch((function(){f=!0}))),t}}c.TVXWindowEvents.on("session_captured",(function(){p()
})),o.pushStreamMultiplexer.on("auth",(function(e){if(is_authenticated&&user&&user.session_hash&&"active_session_changed"===e.type&&e.timestamp>h){if(h=e.timestamp,user.session_hash===e.source_session&&e.source_session in e.changes&&"cycled"===e.changes[e.source_session].a&&(user.session_hash=e.changes[e.source_session].h),user.session_hash in e.changes&&"logout"===e.changes[user.session_hash].a)return void(e.source_session!==user.session_hash&&(t=e.device_info,(0,r.createGoProDialog)({feature:"sessionLogout",customParams:t,actions:[{action:s.PredefinedAction.Close,text:i.t(null,{context:"action"},n(433334))}]})));if(!e.active_sessions)return;let o=!1;for(let t=e.active_sessions.length-1;t>=0;t--)user.session_hash===e.active_sessions[t]&&(o=!0);o?d&&p():function(e){if(f)return;let t=!1;if(ChartApiInstance&&(ChartApiInstance.disconnect(),t=!0),t){(0,a.trackEvent)("Auth","Different Device Active Dialog"),f=!0,u.logNormal("Different device connection detected: "+JSON.stringify(e));const t=function(){m=!1;const e=p(!0);e&&e.then((function(){c.TVXWindowEvents.emit("session_captured")}))};if(!m){const o={feature:"sessionLock",customParams:e,actionAfterClose:t,actions:[{action:s.PredefinedAction.Close,color:"black",text:i.t(null,void 0,n(877309)),onClick:t}]};(0,r.createGoProDialog)(o).then((()=>{m=!0}))}}}(e.device_info)}var t}));n(202373);var _=n(77034),g=n.n(_),w=n(799786);g().safari&&(0,w.createGroup)().add({desc:"Prevent exit native fullscreen",hotkey:27,handler:()=>{}});var y=n(174079),b=n(172840),v=n(638456),S=n(314802),P=n(354298),E=n(921454),T=n(752023),A=n(742480),C=n(261030),k=n(125226),I=n(62802);const D=(0,l.getLogger)("NewsNotificationsInit");var O=n(400353),R=n(833813),L=n(881383),M=(n(659863),n(575200)),F=n(199010);var N=n(49437),V=n(407085);var x=n(780626);var U=n(46277),H=n(861482);var j=n(17519),G=n(93322),B=n(214842),z=n(290484),$=n(175203),W=n(900608);const q="activeBrowserTabsCounter";let Q=null;class J{constructor(){this._isMasterTab=!1,this._lastState={tabs:[],ts:0},this._sendReport=(0,z.default)(((e,t)=>{this._isMasterTab&&($.telemetry.sendReport("site","browsers_tabs_ratio_frame",{value:e}),$.telemetry.sendReport("site","browsers_tabs_count_frame",{value:t}))}),2e4),this._guid=(0,W.guid)(),this._initTimer()}unregisterTab(){clearInterval(this._timerId);const e=this._getState();e.tabs=e.tabs.filter((e=>e[0]!==this._guid)),e.ts=Date.now(),this._setState(e)}static getInstance(){return null===Q&&(Q=new J),Q}_checkIsMaster(e){const t=0===e.tabs.length,n=Date.now()-e.ts>2e4;return t||n||e.tabs[0][0]===this._guid}_countVisibleTabsRatio(e){const t=e.reduce(((e,t)=>e+("visible"===t[1]?1:0)),0);return Math.round(t/e.length*100)}_getState(){const e=N.TVLocalStorage.getItem(q),t=null!==e?JSON.parse(e):this._lastState;return this._lastState=t,t}_setState(e){N.TVLocalStorage.setItem(q,JSON.stringify(e))}_pulse(){const e=this._lastState.tabs,t=document.visibilityState,n=this._getState(),i=n.tabs.find((e=>e[0]===this._guid)),r=this._isMasterTab;this._isMasterTab=this._checkIsMaster(n);const s=!r&&this._isMasterTab
;if(void 0!==i&&i[1]!==t&&(i[1]=t),s)n.tabs=[[this._guid,t]],n.ts=Date.now(),this._isMasterTab=!0,this._sendReport(100,1);else if(this._isMasterTab){n.ts=Date.now();const t=this._countVisibleTabsRatio(e),i=this._countVisibleTabsRatio(n.tabs);t!==i&&this._sendReport(i,n.tabs.length)}else void 0===i&&n.tabs.push([this._guid,t]);this._setState(n)}_initTimer(){this._pulse(),this._timerId=setInterval((()=>this._pulse()),1e4)}}var Y=n(167989),X=n(864671);var K=n(516621);var Z=n(313266),ee=n(832617);const te=(0,l.getLogger)("Chart.Base");if(loginStateChange.subscribe(window,(function(e){if(user&&is_authenticated){TVLocalStorage.getItem("paid_account_username")&&TVLocalStorage.removeItem("paid_account_username");const e=TVLocalStorage.getItem("last_username"),t=TVLocalStorage.getItem("previous_username");e!==user.username&&(TVLocalStorage.setItem("last_username",user.username),e&&e!==t&&(TVLocalStorage.setItem("previous_username",e),(0,G.paidAccountCheck)({isNeedCancelButton:!0}).catch((()=>{})))),(()=>{const e=JSON.parse(N.TVLocalStorage.getItem("password_popup_data")||"null");(0,k.isFeatureEnabled)("change_password_suggestion_popup")&&(!e?.lastTimestamp||(0,V.getCalendarDaysDiff)(new Date,new Date(e.lastTimestamp))>=2)&&(!e?.showCount||e.showCount<3)&&(N.TVLocalStorage.setItem("password_popup_data",JSON.stringify({lastTimestamp:(new Date).getTime(),showCount:e?.showCount?e.showCount+1:1})),Promise.all([n.e(75080),n.e(26184),n.e(10648),n.e(32078),n.e(6739),n.e(50370),n.e(61504),n.e(84592),n.e(58572),n.e(27877),n.e(6656),n.e(75070),n.e(61224),n.e(14144),n.e(16722),n.e(9814),n.e(1403),n.e(79231),n.e(4741),n.e(30044),n.e(42533)]).then(n.bind(n,757140)).then((({changePasswordDialog:e})=>e())))})()}else{const e=TVLocalStorage.getItem("paid_account_username");e&&Promise.resolve().then(n.bind(n,691840)).then((t=>t.showSignModal({source:"Paid Account Popup",username:e})))}e||(0,P.reconnectChartApi)()})),(0,b.whenDocumentReady)((function(){if((0,k.isFeatureEnabled)("enable_forced_email_confirmation")&&window.is_authenticated&&window.user.social_registration&&void 0===window.user.profile_data_filled&&!window.user.has_active_email&&!(0,S.isOnMobileAppPage)("any")){if(window.location.pathname.startsWith(`/u/${window.user.username}`)||"/policies/"===window.location.pathname||"/privacy-policy/"===window.location.pathname)return;Promise.resolve().then(n.bind(n,691840)).then((e=>e.showSignModal({mode:"force-verify-email"})))}"#signin"===window.location.hash?Promise.resolve().then(n.bind(n,691840)).then((e=>e.showSignModal({source:"Redirect"}))):"#signup"===window.location.hash&&Promise.resolve().then(n.bind(n,691840)).then((e=>e.showSignModal({mode:"signup",source:"Redirect"}))),(0,v.checkPageType)("mobile")?C.cookieSettingsReady.resolve():(0,T.initCookiesNotification)().then((async()=>{const e=(0,B.placementFromPageLocation)();if(e){if((0,O.enabled)(R.ProductFeaturesEnum.NO_SPONSORED_ADS))return;let t=!0;if("ru"===window.locale){t="ru"!==(await(0,F.userGeoInfo)()).country_code}if(t){
const{toastAd:t}=await Promise.all([n.e(41001),n.e(24377),n.e(8721),n.e(78717),n.e(38336)]).then(n.bind(n,488071));t.setPlacement(e.placement).addTargeting("placement",e.targeting).start()}}})),window.initData.show_idc_dialog&&window.TradingView.onChartPage?n.e(9726).then(n.bind(n,207799)).then((e=>{e.showIdcAgreementDialog()})):window.initData.banned_payments&&Promise.all([n.e(66814),n.e(95626),n.e(28415),n.e(78820),n.e(30608),n.e(56167),n.e(11417),n.e(96520),n.e(80281),n.e(84434),n.e(25977),n.e(44057),n.e(2224),n.e(30871),n.e(29201)]).then(n.bind(n,299752)).then((({warningDialog:e})=>{e({title:i.t(null,void 0,n(620748)),content:"<p>"+i.t(null,void 0,n(757833))+"</p>",closeButtonText:i.t(null,{context:"action"},n(433334))}).open()}))}),!0),window.pro=new y.Pro(window.shopConf),loginStateChange.fire(!0),Promise.all([n.e(54581),n.e(14144),n.e(84434),n.e(38578)]).then(n.t.bind(n,233009,23)).then((({default:e})=>{e.init()})),["/widget-wizard/","/space-mission-yearly-recap/","/space-mission-personal-yearly-recap/","/my-space-mission/2025/share/"].find((e=>window.location.pathname.startsWith(e)))||(0,S.isOnMobileAppPage)("any")||(0,v.onMainPage)()||(0,v.isSymphonyEmbed)()||async function(){const e=I.getBool(K.CHRISTMAS_POPUP_STORAGE_KEY_PREFIX),t=(new Date).getFullYear()>K.CHRISTMAS_POPUP_YEAR;window.is_authenticated&&!e&&!t&&(0,k.isFeatureEnabled)("enable_christmas_popup")&&async function(e){const{renderChristmasPopup:t}=await Promise.all([n.e(56705),n.e(6739),n.e(7204),n.e(68650),n.e(54123),n.e(61224),n.e(64083),n.e(13754),n.e(91867)]).then(n.bind(n,78643));t(e)}()}(),async function(){const e=JSON.parse(N.TVLocalStorage.getItem("must_change_password_toast")||"null");window.is_authenticated&&window.user.must_change_password&&!window.user.must_change_tfa&&(!e||(0,V.getCalendarDaysDiff)(new Date,new Date(e.lastTimestamp))>=1)&&(N.TVLocalStorage.setItem("must_change_password_toast",JSON.stringify({lastTimestamp:(new Date).getTime()})),async function(){const{creteToast:e}=await Promise.all([n.e(17870),n.e(29903),n.e(7204),n.e(67007),n.e(65826),n.e(40061)]).then(n.bind(n,18004));e()}())}(),window.is_authenticated)user.available_offers&&user.available_offers.referral_bonus&&Promise.all([n.e(83235),n.e(26184),n.e(32078),n.e(6739),n.e(50370),n.e(6656),n.e(61224),n.e(14144),n.e(9814),n.e(1403),n.e(9955),n.e(4741),n.e(30820)]).then(n.bind(n,684354)).then((e=>e.createReferralBonusNotificationDialog()));else{let e,t={};const n=(0,x.getReferralParams)();n&&"direct_affiliate_params"===n.key?t=n.params:n&&"_referralProgramId"===n.key&&(e=n.params);const i=t.aff_id;if(i||e){const n=window.location.hostname.split("."),r=n.slice(1,n.length).join(".");if(i&&i.length<=32){(0,a.trackEvent)("Affiliate Program","Referral Visit (Direct)",i),j.PartnerAPI.addClick({target_link:t.target_link,aff_id:t.aff_id,aff_sub:t.aff_sub,aff_source:t.source,aff_unique1:t.aff_unique1,aff_sub2:t.aff_sub2,aff_sub3:t.aff_sub3,aff_click_id:t.aff_click_id,file_id:t.file_id,url_id:t.url_id}).catch((e=>te.logNormal(`Service Partner Program - request error - ${e}`)))
;const e=JSON.parse(X.get("direct_affiliate_params"));e&&e.aff_id===i||X.set("direct_affiliate_params",JSON.stringify(t),90,"/",r?`.${r}`:""),(0,x.createReferralWelcome)("partner_program")}else e&&e.length<=150&&(X.set("_referralProgramId",e,0,"/",r?`.${r}`:""),(0,x.createReferralWelcome)("refer_a_friend"))}}if(Promise.all([n.e(2031),n.e(45275),n.e(72226)]).then(n.bind(n,727655)).then((e=>{e.openSupportDialogOnLoad()})),Promise.all([n.e(95868),n.e(14144),n.e(14309)]).then(n.bind(n,351302)).then((e=>{e.openPaymentOrderDialogOnLoad()})),Promise.all([n.e(42635),n.e(99140)]).then(n.bind(n,130179)).then((e=>{e.openCoinsDialogOnLoad()})),(0,E.init)(),(0,Z.isFeaturesetEnabled)("alerts")&&!window.TradingView.onChartPage&&(0,ee.initAlerts)(),window.is_authenticated||(0,M.initOneTapSignIn)(),async function(){const{init:e}=await Promise.all([n.e(53270),n.e(29903),n.e(24840),n.e(7204),n.e(67007),n.e(65329),n.e(2101)]).then(n.bind(n,483679));e()}(),document.addEventListener("click",(function(e){const t=e.target,n=t?.closest("a");if(window.location.pathname.startsWith("/support")||!n?.search)return;const i=new URLSearchParams(n.search).get("solution");if(!i)return;const r=parseInt(i,10);isNaN(r)||(0,H.showSupportDialog)({solutionId:r});const s=i.match(/[a-zA-Z\_]+/g);s&&!e.defaultPrevented&&(0,U.trackSocialNetworkEvent)(s[0],U.DialogAction.OpenSolution),e.preventDefault()})),async function(){if((0,k.isFeatureEnabled)("news_alerts_enabled")&&window.is_authenticated&&"true"===(0,I.getValue)("News.hasEnabledAlerts"))try{const{startNotifications:e}=await Promise.all([n.e(16132),n.e(63835)]).then(n.bind(n,816132));e()}catch(e){return void D.logError(`Failed to initialize news notifications ${e}`)}}(),(0,k.isFeatureEnabled)("count-browser-tabs")){const e=J.getInstance();window.addEventListener("unload",(()=>e.unregisterTab()))}(0,L.initLiveRegion)("aria-live-regions-wrapper"),(0,Y.initSubscribeToGlobalEventsStorage)(),(0,A.initSnackbarContainer)()},699270:(e,t,n)=>{var i,r,s;n.d(t,{AdUnit:()=>r,Placement:()=>s,PlacementTargeting:()=>i}),function(e){e.Symbols="symbols",e.Platform="platform",e.Profile="profile",e.PublishedOpenedIdea="published opened idea",e.OpenedIdea="opened idea chart",e.HeatMap="heatmap",e.Screener="screener",e.MainPage="main page",e.NewsPage="news page",e.NewsFeed="news feed",e.NewsSymbols="news symbols",e.NewsMarkets="news markets",e.IdeasStreamFeed="ideas stream feeds",e.Screenshot="screenshot"}(i||(i={})),function(e){e.IdeasStream="ideas stream",e.Platform="platform",e.PublishedIdea="published idea",e.NewMainIdeasStream="new main ideas stream",e.News="news",e.SymbolOverview="symbol overview"}(r||(r={})),function(e){e.Symbols="symbols",e.Platform="platform",e.Profile="profile",e.OpenedIdea="opened idea",e.Feeds="feeds",e.HeatMap="heatmap",e.Screener="screener",e.MainPage="main page",e.NewsPage="news page",e.NewsFeed="news feed",e.NewsSymbols="news symbols",e.NewsMarkets="news markets",e.Screenshot="screenshot"}(s||(s={}))},214842:(e,t,n)=>{n.d(t,{createUniqIdGenerator:()=>g,isEnabled:()=>h,lazy:()=>f,
placementFromPageLocation:()=>_,supportedIOSVersion:()=>p});var i=n(638456),r=n(642245),s=n(49437),o=n(314802),a=n(347402),c=n(588948),l=n(699270);const u="first_visit_time",d=3;async function h(){if((0,i.isSymphonyEmbed)()||window.user.active_broker?.plan===r.BrokerPlansIds.Platinum)return!1;if((0,o.isOnMobileAppPage)("any")&&window.is_authenticated){const e=(0,c.getFreshInitData)()?.app_installation_date;if(e&&!isNaN(e))return(Date.now()-new Date(e).getTime())/864e5>=d}let e=s.TVLocalStorage.getItem(u);e||(e=Date.now().toString(),s.TVLocalStorage.setItem(u,e));return(Date.now()-Number(e))/864e5>=d}function f(e,t){return new Promise((n=>{const i=new IntersectionObserver((t=>{for(const r of t)r.isIntersecting&&(i.unobserve(e),n())}),t);i.observe(e)}))}const m="2.66.0";function p(){if(!(0,o.isOnMobileAppPage)("old"))return!1;const e=(0,i.appVersion)();return null!==e&&!(0,a.lessThan)(e,m)}function _(){if(window.TradingView.onChartPage)return{placement:l.Placement.Platform,targeting:l.PlacementTargeting.Platform};const e=window.location.pathname;return e.startsWith("/heatmap")?{placement:l.Placement.HeatMap,targeting:l.PlacementTargeting.HeatMap}:/^\/(crypto-|forex-)?screener\//.test(e)?{placement:l.Placement.Screener,targeting:l.PlacementTargeting.Screener}:void 0}function*g(e){let t=0;for(;;)yield`div-gpt-ad-${e}-${t}`,t++}},642245:(e,t,n)=>{var i,r;n.d(t,{BrokerPlans:()=>i,BrokerPlansIds:()=>r}),function(e){e.Platinum="platinum",e.Gold="gold",e.Silver="silver",e.Free="free"}(i||(i={})),function(e){e[e.Platinum=3]="Platinum",e[e.Gold=2]="Gold",e[e.Silver=1]="Silver",e[e.Free=0]="Free"}(r||(r={}))},516621:(e,t,n)=>{n.d(t,{CHRISTMAS_POPUP_CLOSE_EVENT:()=>s,CHRISTMAS_POPUP_STORAGE_KEY_PREFIX:()=>r,CHRISTMAS_POPUP_YEAR:()=>i});const i=2025,r=`show_christmas_banner_${i}`,s="christmas.popup.close"},308180:(e,t,n)=>{function i(e,t){return Promise.all([n.e(3153),n.e(26184),n.e(6739),n.e(61224),n.e(10657),n.e(82930),n.e(20454),n.e(82404),n.e(59426)]).then(n.bind(n,801413)).then((n=>n.showErrorDialogImpl(e,t)))}n.d(t,{showErrorDialog:()=>i})},74867:(e,t,n)=>{n.d(t,{ActionButtonsLayout:()=>s,ContentAlign:()=>r,DialogTheme:()=>o,PredefinedAction:()=>i});var i,r,s,o;n(61499);!function(e){e.Close="close",e.OpenGopro="openGopro"}(i||(i={})),function(e){e.Center="center",e.Left="left"}(r||(r={})),function(e){e.Row="row",e.Column="column"}(s||(s={})),function(e){e.Offer="offer",e.Gopro="gopro"}(o||(o={}))},17519:(e,t,n)=>{n.d(t,{PartnerAPI:()=>f,PartnerPayoutPurpose:()=>h,PartnerStatus:()=>u,PartnerType:()=>c,PayoutHistoryType:()=>d,PayoutType:()=>o,getPartnerDetails:()=>g,partnerTypeMap:()=>l});var i=n(954912);const r="/partners/details/";function s(){return window.initData.tvPartnersHost}var o,a,c;!function(e){e.Paypal="paypal",e.Wire="wire"}(o||(o={})),function(e){e.USD="usd"}(a||(a={})),function(e){e.Lifetime30="lifetime30",e.CPA="cpa",e.Other="other"}(c||(c={}));const l={0:c.Lifetime30,1:c.CPA,2:c.Other};var u,d,h,f;function m(e){return`${s()}/api/v1${e}/`}function p(e,t,n,i){let r=m(e);return t&&!n&&(r=m(`${e}/${t}`)),
t&&n&&(r=m(`${e}/${t}/${n}`)),i&&(r+=`?sort=${i}`),r}async function _(e,t,n){const r={method:e,credentials:"include"};return r.headers=new Headers,r.headers.set("Content-Type","application/json"),r.headers.set("Accept","application/json"),void 0!==n&&(r.body=JSON.stringify(n)),(0,i.fetch)(t,r).then((e=>e.json())).then((e=>{if(e.error)throw new Error(e.error);return e}))}async function g(){const e={method:"GET"};return e.headers=new Headers,e.headers.set("Content-Type","application/json"),(0,i.fetch)(r).then((e=>e.json()))}!function(e){e.Pending="pending",e.Active="active",e.Rejected="rejected",e.Blocked="blocked",e.NotVerified="not_verified"}(u||(u={})),function(e){e.Pending="pending",e.Completed="completed",e.InProgress="in_progress",e.WaitingForApproval="waiting_for_approval",e.DjangoError="django_eror",e.PayoutError="payout_error"}(d||(d={})),function(e){e.Partner="partner",e.ReferAFriend="refer_a_friend"}(h||(h={})),function(e){e.isPartner=async function(){return _("GET",m("/is-partner"))},e.hold=async function(e){return(0,i.fetch)("/partners/hold/",{method:"POST",credentials:"include",body:JSON.stringify(e)})},e.unhold=async function(e){return(0,i.fetch)("/partners/unhold/",{method:"POST",credentials:"include",body:JSON.stringify(e)})},e.autoCreatePartner=async function(e){const t={partner_type:e};return(0,i.fetch)("/partners/create/",{method:"POST",credentials:"include",body:JSON.stringify(t)})},e.createPartner=async function(e){return _("POST",m("/partner"),e)},e.updatePartner=async function(e){return _("POST",m("/update-partner"),e)},e.getStats=async function(e,t,n){return _("GET",p("/stats",e,t,n))},e.getReport=async function(e,t){return _("GET",p("/report",e,t))},e.getProductReport=async function(e,t){return _("GET",p("/products-report",e,t))},e.getReportCSV=async function(e,t){return _("GET",p("/report-csv",e,t))},e.getHistory=async function(e){return _("GET",function(e){return`${m("/history")}${e}`}(e))},e.getConversionReport=async function(e,t){return _("GET",p("/conversion-report",e,t))},e.getDetailedReport=async function(e,t){return _("GET",p("/detailed-report",e,t))},e.getSettings=async function(){return _("GET",m("/settings"))},e.postSettings=async function(e){return _("POST",m("/settings"),e)},e.addClick=async function(e){return _("POST",`${s()}/analytics/`,e)},e.postIRSForm=async function(e){const t=m("/irs-form"),n=new FormData;n.append("form",e);const r=new Headers({accept:"application/json"});return(0,i.fetch)(t,{method:"POST",credentials:"include",headers:r,body:n}).then((e=>e.json()))}}(f||(f={}))},780626:(e,t,n)=>{n.d(t,{createReferralWelcome:()=>r,getReferralParams:()=>s});var i=n(72224);function r(e){return Promise.all([n.e(49663),n.e(26184),n.e(32078),n.e(6739),n.e(50370),n.e(6656),n.e(51307),n.e(61224),n.e(14144),n.e(9814),n.e(1403),n.e(4741),n.e(36057)]).then(n.bind(n,843163)).then((t=>t.createReferralWelcomeDialog(e)))}function s(){const e=(0,i.getUrlParams)(),t=e.share_your_love,n=e.aff_id;if(n&&n.length<=32){const t={aff_id:n,
target_link:`${window.location.origin}${window.location.pathname}`};return[{key:"source",maxLength:64},{key:"aff_sub",maxLength:64},{key:"url_id",maxLength:256},{key:"file_id",maxLength:256},{key:"aff_sub2",maxLength:64},{key:"aff_sub3",maxLength:64},{key:"aff_unique1",maxLength:64},{key:"aff_click_id",maxLength:64}].forEach((n=>{const i=n.key;e[i]&&e[i].length<=n.maxLength&&(t[i]=e[i])})),{key:"direct_affiliate_params",params:t}}return t&&t.length<=150?{key:"_referralProgramId",params:t}:null}},486710:(e,t,n)=>{n.d(t,{AggregateError:()=>g,ApiError:()=>_,accumulateErrors:()=>s,checkPhoneCode:()=>l,continuePartialAuth:()=>T,fetchPost:()=>o,firstLoginData:()=>a,firstLoginDataUrl:()=>r,recoverPassword:()=>y,recoverPasswordUrl:()=>w,recoveryPassword:()=>u,resendLink:()=>c,resetPassword:()=>v,signin:()=>f,signinUrl:()=>d,signup:()=>p,signupUrl:()=>m,socialAuth:()=>E});var i=n(954912);const r="/accounts/first_login_data/";function s(e,t){return Object.entries(e).map((e=>new _(e[1].join("\n"),t,e[0])))}function o(e,t){return(0,i.fetch)(e,{method:"POST",credentials:"include",mode:"same-origin",body:t})}function a(e){return o(r,e).then((e=>e.ok?e.json():e.json().then((t=>{throw new g(s(t.errors,e.status))}))))}function c(){return o("/api/v1/users/anon/change-email/resend/").then((e=>e.ok?e.json():e.json().then((e=>{throw Error(e.error)}))))}function l(e){return o("/api/v1/recover_password/check_phone_code/",e).then((e=>e.ok?e.json():e.json().then((e=>{throw Error(e.error)}))))}function u(e){return o("/api/v1/recover_password/",e).then((e=>e))}const d="/accounts/signin/";function h(e){return e.json().then((t=>{if("errors"in t&&Object.keys(t.errors).length)throw new g(s(t.errors,e.status));if("error"in t&&""!==t.error||"code"in t||!e.ok)throw new _(t.error||t.detail,e.status,t.code,t.confirm_auth_data,t.two_factor_types,function(e){if(e.signature)return{signature:e.signature,email:e.email||"",phone:e.phone||"",socials:[]};return}(t));return t}))}function f(e){return o(d,e).then(h)}const m="/accounts/signup/";function p(e){return o(m,e).then((e=>e.json().then((t=>{if("errors"in t&&""!==t.errors)throw new g(s(t.errors,e.status))}))))}class _ extends Error{constructor(e,t,n,i,r,s){super(e),this.type=n,this.status=t,this.secondFactorTypes=r,this.socialConfirmData=i,this.resetPasswordData=s}}class g extends Error{constructor(e){super(e.map((e=>e.message)).join("\n")),this.errors=[],this.errors=e}}const w="/api/v1/recover_password/search/";function y(e){return o(w,e).then(h)}const b="/accounts/reset_password/";function v(e,t=b){return o(t,e).then((e=>400===e.status?e.json().then((t=>{if("errors"in t)throw new g(s(t.errors,e.status));throw new _(t.detail,e.status,t.code)})):h(e)))}const S="/accounts/complete/android-jwt/",P={Accept:"application/json"};function E(e,t){const n=new URL(window.origin+S);return Object.entries(t).forEach((([e,t])=>t&&n.searchParams.append(e,t))),(0,i.fetch)(n.href,{method:"POST",body:e,headers:P}).then(h)}function T(e,t){const n=new URL(window.origin+`/accounts/complete/${e}/`),r=new FormData
;return r.append("partial_token",t),(0,i.fetch)(n.href,{method:"POST",body:r,headers:P}).then(h)}},660681:(e,t,n)=>{n.d(t,{SMS_BANNED_STATUS:()=>r,generateSigninChallenge:()=>s,secondFactorSignin:()=>o});var i=n(486710);const r=403;function s(e){return(0,i.fetchPost)(`/accounts/two-factor/signin/${e}/generate-challenge/`).then((e=>e.ok?e.json():e.json().then((({detail:e,code:t})=>{throw Error(e)}))))}function o(e,t){return(0,i.fetchPost)(`/accounts/two-factor/signin/${e}/`,t).then((e=>e.ok?e.json():e.json().then((t=>{if("require_parameters"===t.code)throw new i.AggregateError((0,i.accumulateErrors)(t.errors,e.status));throw new i.ApiError(t.detail,e.status,t.code)}))))}},199010:(e,t,n)=>{n.d(t,{userGeoInfo:()=>o});var i=n(954912);const r=(0,n(735566).getLogger)("User.GeoInfo");let s;function o(){if(void 0!==s)return s;return s=(0,i.fetch)("/check_language/",{method:"POST"}).then((e=>{if(e.ok)return e.json();throw new Error(e.statusText)})).catch((e=>(r.logWarn(e.message),{}))),s}},407085:(e,t,n)=>{n.d(t,{formatCalendarDaysDiff:()=>o,getCalendarDaysDiff:()=>r});var i=n(444372);function r(e,t,n){const i=new Date(t),r=new Date(e),o=n?0:60*(s(i)-s(r))*1e3;return n?(i.setUTCHours(12,0,0,0),r.setUTCHours(12,0,0,0)):(i.setHours(12,0,0,0),r.setHours(12,0,0,0)),(a=(r.getTime()-i.getTime()-o)/864e5)<0?Math.ceil(a):Math.floor(a);var a}function s(e){return 15*-Math.round(e.getTimezoneOffset()/15)}function o(e){if(0===e)return i.t(null,void 0,n(205935));if(1===e)return i.t(null,void 0,n(315404));if(-1===e)return i.t(null,void 0,n(943320));const t=Math.abs(e),r=i.t(null,{plural:"%d days",count:t},n(851068)).replace("%d",String(t));return e>1?i.t(null,{context:"time_range"},n(282778)).replace("%s",r):i.t(null,{context:"time_range"},n(820864)).replace("%s",r)}},72224:(e,t,n)=>{function i(e){return decodeURIComponent(e.replace(/\+/g," ")).replace(/<\/?[^>]+(>|$)/g,"")}function r(e){const t=/([^&=]+)=?([^&]*)/g,n={};if(!e)return n;let r=t.exec(e);for(;r;)n[i(r[1])]=i(r[2]),r=t.exec(e);return n}function s(){return r(window.location.search.substring(1))}function o(){return r(window.location.hash.split("#")[1])}function a(){const e=window.location.href.split("#")[0];window.history.replaceState("",document.title,e)}function c(e){const t=[];for(const n in e)e.hasOwnProperty(n)&&null!=e[n]&&t.push({key:n,pair:encodeURIComponent(n)+"="+encodeURIComponent(e[n])});return t.sort(((e,t)=>e.key>t.key?1:e.key<t.key?-1:0)).map((e=>e.pair)).join("&")}n.d(t,{createUrlParams:()=>c,getHashUrlParams:()=>o,getUrlParams:()=>s,removeHashFromUrl:()=>a})}}]);