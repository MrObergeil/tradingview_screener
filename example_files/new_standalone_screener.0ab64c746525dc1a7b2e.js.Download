(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[23709],{814049:e=>{e.exports={container:"container-njMaj3bU"}},722430:e=>{e.exports={titleWrap:"titleWrap-nioGjOgp",badge:"badge-nioGjOgp",heading:"heading-nioGjOgp"}},729147:e=>{e.exports={screenerContainer:"screenerContainer-tmg4POBa"}},583771:(e,t,n)=>{"use strict";n.d(t,{screenTouchMiddleware:()=>l});var r=n(520065),a=n(202853),i=n(216058);const o=e=>{const{id:t,isOwner:n}=e;(0,r.isScreenCustom)(e)&&n&&i.screensService.touchScreen(t)};function l(){return e=>{const t=e.getState();return o(t.screen),e=>t=>{t.type===a.setActiveScreenAction.type&&o(t.payload.screen),e(t)}}}},742324:(e,t,n)=>{"use strict";n.d(t,{syncScreenSavedMiddleware:()=>s});var r=n(202853),a=n(988422),i=n(324187),o=n(878973),l=n(520065);const c=[r.setActiveScreenAction.type,i.createScreenThunk.fulfilled.type,i.saveScreenThunk.fulfilled.type,a.setConfigurationThunk.fulfilled.type],s=()=>e=>t=>n=>{const r=t(n);if(c.includes(n.type)){const t=e.getState(),{screen:n}=t;(0,l.isScreenCustom)(n)?e.dispatch((0,o.setScreenSavedAction)({screen:n})):e.dispatch((0,o.resetScreenSavedAction)())}return r}},173584:(e,t,n)=>{"use strict";n.d(t,{validateScreenColumnsMiddleware:()=>s});var r=n(520065),a=n(773862),i=n(202853),o=n(988422),l=n(324187);const c=[i.setActiveScreenAction.type,l.createScreenThunk.fulfilled.type,o.setConfigurationThunk.fulfilled.type],s=()=>e=>t=>n=>{const i=n.payload?.screen,o=n.payload?.configuration;if(c.includes(n.type)&&i&&(0,r.isScreenCustom)(i)){const{configuration:r}=e.getState(),l=(0,a.getValidScreen)({screen:i,configuration:o??r});return t({...n,payload:{...n.payload,screen:l}})}return t(n)}},783318:(e,t,n)=>{"use strict";n.d(t,{StandaloneTypeSelector:()=>m});var r=n(50959),a=n(444372),i=n(317446),o=n(653398),l=n(36559),c=n(118794),s=n(761549),d=n(377454),u=n(680574),S=n(196072),p=n(722430);const g=[{id:S.StandaloneType.Stock,title:a.t(null,void 0,n(619954))},{id:S.StandaloneType.ETF,title:a.t(null,void 0,n(835862))},{id:S.StandaloneType.Bond,title:a.t(null,void 0,n(744109))},{id:S.StandaloneType.Coin,title:a.t(null,void 0,n(791317))},{id:S.StandaloneType.CryptoCex,title:a.t(null,void 0,n(508107))},{id:S.StandaloneType.CryptoDex,title:a.t(null,void 0,n(720890))}];function m(e){const{standaloneType:t,onClick:n}=e,{isOpen:a,anchorButtonRef:S,onClose:m,onOpen:y,handleAnchorClick:h}=(0,o.useDefaultButtonAnchorProps)(),v=(0,i.useOpenPopoverOnAnchorKeyDown)({isOpen:a,onOpen:y});return r.createElement(r.Fragment,null,r.createElement(l.TextButton,{reference:S,color:"gray",size:"small",showCaret:!0,isSelected:a,onClick:h,onKeyDown:v,"data-qa-id":"screener-pills-switcher"},r.createElement("h1",{className:p.heading},function(e){return g.find((t=>t.id===e))?.title||""}(t))),r.createElement(c.PopoverKeyboardNavigator,{isOpen:a,onClose:m,anchored:{type:"element",at:S},isRtl:(0,u.isRtl)(),placementRules:[{name:"bottom-left",rtlName:"bottom-right",anchorPoint:{x:0,y:1},contentPoint:{x:0,y:0},offset:{x:-8,y:4}}]},g.map((e=>{return r.createElement(s.PopoverItem,{key:e.id,
title:(a=e.title,i=e.isBeta,r.createElement("span",{className:p.titleWrap},a,i&&r.createElement(d.Badge,{className:p.badge,size:d.BadgeSize.XSmall},"BETA"))),selected:e.id===t,onClick:()=>{n(e.id),m(!0)},dataQaId:`screener-switcher__${e.id}`});var a,i}))))}},54025:(e,t,n)=>{"use strict";n.d(t,{ScreenerStandalone:()=>N});var r=n(50959),a=n(301621),i=n(135409),o=n(342250),l=n(279879),c=n(893594),s=n(294637),d=n(161123);class u{constructor(e){this._getCurrentState=e}getCurrentStateStringified(){return JSON.stringify(this._getCurrentState())}}var S=n(902061),p=n(66909),g=n(444372),m=n(723578),y=n(614353);const h=()=>g.t(null,void 0,n(987603));function v(e){const{}=e,t=(0,d.useSelector)(m.isUnsavedScreenSelector),n=(0,d.useSelector)(y.customScreensEnabledSelector);return(0,r.useEffect)((()=>{if(n)return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)};function e(e){if(t)return e.returnValue=h()}}),[n,t]),r.createElement(r.Fragment,null)}var f=n(321384),w=n(616126),C=n(378053),E=n(668433),T=n(868779),b=n(735902);function k(e){const{screenRoutingHandler:t}=e,n=(0,d.useSelector)(m.activeScreenSelector),a=(0,r.useRef)(!1);return(0,r.useEffect)((()=>{t&&a.current&&t(n.screenType,n.id,n.title)}),[n.id,n.screenType,n.title,t]),(0,r.useEffect)((()=>{a.current=!0}),[]),r.createElement(r.Fragment,null)}var A=n(118664),P=n(235564),R=n(512027),x=n(552935),D=n(973201),O=n(616824),M=n(296351),I=n(729147);function N(e){const{chartWidgetCollection:t,screenRoutingHandler:g}=e,m=(0,s.useStandaloneScrollUntilVisible)();return function(){const e=(0,d.useStore)();(0,r.useEffect)((()=>{const t=()=>{const{layout:t,screen:n}=e.getState();return{layout:t,screen:n}};Promise.all([n.e(21630),n.e(30359)]).then(n.bind(n,372006)).then((e=>{const n=e.SupportTicketData,r=new u(t);n.setNewScreenerStandalone(r)}))}),[e])}(),r.createElement(r.Fragment,null,r.createElement(v,null),r.createElement(P.UserState,null),r.createElement(k,{screenRoutingHandler:g}),r.createElement(p.PresetsDataContextProvider,null,r.createElement(S.ScreenerStandaloneContainer,null,r.createElement(M.TableSettingsContext.Provider,{value:{isLinkingDisabled:!1,isContextMenuDisabled:!1,isFlagsDisabled:!1}},r.createElement(i.ScrollTableContextProvider,{initData:m},r.createElement(C.ScrollControllerProvider,null,r.createElement(l.SymbolSearchContextProvider,null,r.createElement("div",{className:I.screenerContainer},r.createElement(a.ScreenerContextProvider,{hideLoadMore:!1,chartWidgetCollection:t},r.createElement(A.RestrictedTableColumnsContextProvider,null,r.createElement(R.HotkeyActionsContextProvider,null,r.createElement(c.StandaloneTableContextWrapper,null,r.createElement(T.RefreshContextProvider,null,r.createElement(E.WatchlistFilterContextProvider,null,r.createElement(b.ChartViewSettingsProvider,null,r.createElement(w.ChartDataProvider,null,r.createElement(o.UpperLayoutStandaloneWrapper,null),r.createElement(D.AddToWatchlistSnowplowEventContextProvider,{trackClickEventHandler:x.trackScreenerClickEvent
},r.createElement(f.MarkedListContextProvider,null,r.createElement(O.LayoutViewWrapperWithEmptyStates,null)))))))))))))))))))}},796683:(e,t,n)=>{"use strict";n.d(t,{getStandaloneType:()=>a});var r=n(588948);const a=()=>{(0,r.updateInitData)();return(0,r.getInitData)().standalone_type}},296378:e=>{e.exports={hintReferenceable:"hintReferenceable-OXEecvVp"}},505754:(e,t,n)=>{"use strict";n.d(t,{TradingViewAuthApi:()=>a});var r=n(582231);class a{loginRequired(){return window.loginRequiredDelegate}onGoProDialog(e,t=[]){r.paywallMobileInterceptor.subscribe(e),t.forEach(r.paywallMobileInterceptor.hide)}}},759073:(e,t,n)=>{"use strict";n.d(t,{WebviewBaseApi:()=>a});var r=n(909740);class a{setTheme(e){(0,r.setTheme)(e)}}},147845:(e,t,n)=>{"use strict";var r=n(50959),a=n(632227),i=n(161123),o=(n(86322),n(564894)),l=n(94123),c=n(444372),s=n(24154),d=n(54025),u=n(768962),S=n(840140),p=n(583771),g=n(173584),m=n(742324),y=n(801396),h=n(605198),v=n(373691),f=n(144185),w=n(260992),C=n(31875),E=n(856980),T=n(199688),b=n(715750),k=n(395975),A=n(552935),P=n(635169),R=n(796683),x=n(817414),D=n(783318),O=n(814049);var M=n(314802),I=n(759073),N=n(505754),B=n(762092),F=n(735566),L=n(296378);const _=document.getElementById("js-screener-container"),V=(0,R.getStandaloneType)();(0,o.registerService)(l.SCREENER_CONFIGURATION_SERVICE,new l.ScreenerConfigurationService(u.standaloneConfigGetterData[V],"standalone"));const W=(0,o.service)(l.SCREENER_CONFIGURATION_SERVICE),U=W.getConfiguration(),{screens:H,fallbackScreen:j}=U,G=W.getIsTickerLogoSettingApplicable(),K=W.getIsTickerDescriptionSettingApplicable(),$=W.getIsSymbolTypeSettingApplicable(),q=W.getIsCurrencySettingApplicable(),z=window.initData.screen_data?function(e){const t=(0,w.mapDjangoScreenToScreen)(e,W.getColumnSets());return{unsaved:!1,status:C.ScreenStatus.Idle,fundamentalCurrencyOption:(0,x.getFundamentalCurrencyOption)(t.marketSettings.markets,V),...t}}(window.initData.screen_data):{...j,unsaved:!1,status:C.ScreenStatus.Idle};window.initData.screen_data&&Q(C.ScreenType.Custom,window.initData.screen_data.id);const J=(0,S.configureStore)({screen:z,screenSaved:{screen:z},screens:{custom:[],popular:H,customScreensStatus:y.CustomScreensStatus.Idle,hasFetchedCustomScreens:!1},layout:{isHeaderOpen:!0,displayCurrency:h.displayCurrencyInitState,viewMode:"table"},configuration:U,watchlists:{watchlistsDataStatus:"idle",watchlistsData:null},tableSettings:{showTickerLogoTable:G&&(0,v.getShowTickerLogoTableSetting)(V,!0),showSymbolTypeTable:$&&(0,v.getShowSymbolTypeTableSetting)(V,!0),showCurrencyTable:q&&(0,v.getShowCurrencyTableSetting)(V,!0),autoRefreshMode:(0,E.getAutoRefreshModeSetting)(V),tickerColumnTextSource:(0,T.getTickerColumnTextSourceSetting)(V,(0,T.getTickerColumnTextSourceDefaultValue)(V))},chartViewSettings:{showTickerDescriptionChart:K&&(0,f.getShowTickerDescriptionChartSetting)(V,!0)},misc:{scannerProductLabel:`screener-${V}`},user:{isPro:Boolean(window.user.is_pro),isAuthenticated:window.is_authenticated}},[(0,p.screenTouchMiddleware)(),(0,
g.validateScreenColumnsMiddleware)(),(0,m.syncScreenSavedMiddleware)()]),X="old-crypto-pairs"===new URLSearchParams(window.location.search).get("from");if(X&&window.history.replaceState(null,"",window.location.pathname),(0,M.isOnMobileAppPage)("any")){const e=window;if(e.WebViewApi=new I.WebviewBaseApi,e.TradingViewApi=new N.TradingViewAuthApi,e.pageReady){const t=(0,F.getLogger)("ScreenerNew");e.pageReady.forEach((e=>{try{e()}catch(e){t.logError((0,B.getLoggerMessage)(e))}}))}}function Q(e,t,n){const r=(0,b.getScreenUrl)(V,e,t);null!==r&&(window.history.replaceState(null,"",r),n&&(document.title=n))}a.render(r.createElement(i.Provider,{store:J},r.createElement((function(e){const{children:t}=e;return r.createElement("div",{className:O.container},t)}),null,r.createElement(D.StandaloneTypeSelector,{standaloneType:V,onClick:function(e){(0,A.trackScreenerClickEvent)(P.Screener.Button.ChangeStandaloneType);const t=window.location.origin,n=(0,b.getScreenerUrlPath)(e);window.location.href=`${t}/${n}`}}),X&&r.createElement(s.HintReferenceable,{title:c.t(null,void 0,n(265057)),text:c.t(null,void 0,n(394138)),buttonText:c.t(null,void 0,n(515462)),placement:"right-start",placeHolderClassName:L.hintReferenceable,settingsHintKey:"screener.switchToCryptoScreenerFromCryptoPairs"})),r.createElement(d.ScreenerStandalone,{screenRoutingHandler:Q}),r.createElement(k.ToastLayerDefault,null)),_),(0,A.trackScreenerClickEvent)(P.Screener.Button.OpenScreener),z.isShared&&!z.isOwner&&(0,A.trackScreenerClickEvent)(P.Screener.Button.SharedScreenOpen,z.id)},762092:(e,t,n)=>{"use strict";n.r(t),n.d(t,{UserFriendlyError:()=>o,getErrorMessage:()=>c,getLoggerMessage:()=>l,isUserFriendlyError:()=>i});var r=n(444372),a=n(927301);function i(e){return e instanceof o}class o extends Error{constructor({detailedErrorMessage:e,userFriendlyMessage:t,cause:n}){super(t),this.name="UserFriendlyError",this.detailedErrorMessage=e,this.cause=n}}function l(e){return e instanceof o?(0,a.removeTags)(e.detailedErrorMessage):c(e)}function c(e){if(void 0===e)return r.t(null,void 0,n(411768));let t;return t=e instanceof Error?e.message:"object"==typeof e?"error"in e?e.error:JSON.stringify(e):e.toString(),(0,a.removeTags)(t)}}},e=>{
e.O(0,[17237,32428,26184,10648,62419,32078,6739,50370,29903,24840,91565,61504,84592,84509,62156,58572,86459,87828,81350,27877,56254,88936,18013,3406,14544,31069,50553,75070,85379,62882,78206,14142,92124,96080,65428,65644,5605,57014,96133,85992,52665,96614,78698,96946,78160,61774,20785,66504,39622,13619,12748,18350,28903,67498,32388,2298,55015,74400,39311,81171,82835,49560,31916,45045,16722,43380,32100,58178,57093,74731,50340,91571,35483,84090,57823,93639,73569,17809,24342,60368,9040,30497,46580,93457,94568,89700,39218,1058,55091,61123,49281,29840,36939,20075,50447,72780,50556,70004,60482,86649,44692,79278,58666,33416,12690,97337,1545,11389,7204,77196,12874,20541,22691,72834,6656,97406,51307,62560,28415,78820,4857,30608,60733,94584,52294,56167,72373,68820,39394,28562,19934,5911,6133,30331,45207,80111,17644,5347,90145,59334,91361,3691,79248,17675,32227,77507,22665,12886,22023,2373,62134,1620,68134,93243,42118,32378,29138,23298,91834,81015,70241,86348],(()=>{return t=147845,e(e.s=t);var t}));e.O()}]);